


# Gather Rare Tropical Goods
RICE_SEA_harvest_rare_tropical_goods_decision = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_RICE_jungle.dds" }
	decision_group_type = RICE_regional

	desc = RICE_SEA_harvest_rare_tropical_goods_decision_desc

	ai_check_interval = 36

	cooldown = { days = 1825 } 

	is_shown = {
		is_playable_character = yes
		OR = {
			culture = { has_cultural_tradition = tradition_RICE_tropical_purveyors }
			culture = { has_cultural_tradition = tradition_RICE_rainforest_ritualists }
		}
	}
	
	is_valid = {
		OR = {
			culture = { has_cultural_tradition = tradition_RICE_tropical_purveyors }
			culture = { has_cultural_tradition = tradition_RICE_rainforest_ritualists }
		}
		# OR = {
		# 	custom_description = {
		# 		text = "RICE_any_realm_province_jungle_or_forest_req"
		# 		any_realm_province = {
		# 			OR = {
		# 				terrain = jungle
		# 				terrain = forest
		# 			}
		# 		}
		# 	}
		# 	custom_description = {
		# 		text = "RICE_domicile_jungle_or_forest_req"
		# 		domicile.domicile_location ?= {
		# 			OR = {
		# 				terrain = jungle
		# 				terrain = forest
		# 			}
		# 		}
		# 	}
		# }
		OR = {
			custom_description = {
				text = "RICE_any_held_county_southeast_asia_req"
				any_held_title = {
					tier = tier_county
					title_province = { geographical_region = world_asia_southeast }
				}
			}
			custom_description = {
				text = "RICE_domicile_southeast_asia_req"
				domicile.domicile_location ?= {
					geographical_region = world_asia_southeast
				}
			}
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {

		show_as_tooltip = {
			RICE_SEA_harvest_rare_tropical_goods_decision_basic_effect = yes
		}

		custom_tooltip = RICE_SEA_harvest_rare_tropical_goods_decision_effect_tooltip_1 

		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = RICE_SEA_harvest_rare_tropical_goods_decision_context_tooltip
		}

		trigger_event = {
			id = aslian.0030
		}
	}

	cost = { 
		gold = { value = RICE_activity_cost } # Will depend 
	}	

	ai_potential = {
		short_term_gold >= RICE_activity_cost
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = 10
			has_trait = diligent
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
	}
}

# Manage Sea Lanes
RICE_SEA_manage_sea_lanes = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_RICE_tropicana.dds" }
	decision_group_type = RICE_regional
	title = {
		first_valid = {
			triggered_desc = {
				trigger = {
					culture = { has_cultural_tradition = tradition_RICE_sea_nomads }
				}
				desc = RICE_SEA_manage_sea_lanes_sea_nomad
			}
			desc = RICE_SEA_manage_sea_lanes
		}
	}
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					culture = { has_cultural_tradition = tradition_RICE_sea_nomads }
				}
				desc = RICE_SEA_manage_sea_lanes_desc_sea_nomad
			}
			desc = RICE_SEA_manage_sea_lanes_desc
		}
	}

	desc = RICE_SEA_manage_sea_lanes_desc

	ai_check_interval = 36

	cooldown = { days = 1825 } 

	is_shown = {
		is_playable_character = yes
		OR = {
			culture = { has_cultural_tradition = tradition_RICE_sea_nomads }
			has_character_modifier = RICE_SEA_sea_nomads_modifier
		}
	}
	
	is_valid = {
		OR = {
			culture = { has_cultural_tradition = tradition_RICE_sea_nomads }
			has_character_modifier = RICE_SEA_sea_nomads_modifier
		}
		custom_description = {
			text = RICE_normandy_coastal_county_req
			any_held_title = {
				tier = tier_county
				is_coastal_county = yes
			}
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {

		show_as_tooltip = {
			RICE_SEA_manage_sea_lanes_basic_effect = yes
		}

		custom_tooltip = RICE_SEA_manage_sea_lanes_effect_tooltip_1
		#custom_tooltip = RICE_SEA_manage_sea_lanes_effect_tooltip_2

		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = RICE_SEA_manage_sea_lanes_context_tooltip
		}

		trigger_event = {
			id = aslian.0050
		}
	}

	cost = { 
		gold = { value = RICE_activity_cost } # Will depend 
	}	

	ai_potential = {
		short_term_gold >= RICE_activity_cost
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = 10
			has_trait = diligent
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
	}
}

# Make offerings to the Tiger God
# Available to all Austroasiatic Faiths
RICE_austroasiatic_tiger_god_decision = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_ck2_roi_tiger.dds" }
	decision_group_type = RICE_religious

	desc = RICE_austroasiatic_tiger_god_decision_desc

	ai_check_interval = 36

	cooldown = { days = 3650 } 

	is_shown = {
		is_playable_character = yes
		faith = { has_doctrine = special_doctrine_is_austroasiatic_faith }
	}
	
	is_valid = {
		faith = { has_doctrine = special_doctrine_is_austroasiatic_faith }
		capital_county = {
			faith = { has_doctrine = special_doctrine_is_austroasiatic_faith }
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {

		custom_tooltip = RICE_austroasiatic_tiger_god_decision_effect_tooltip_1 
		
		show_as_tooltip = {
			RICE_austroasiatic_tiger_god_decision_effect = yes
		}

		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = RICE_austroasiatic_tiger_god_decision_context_tooltip
		}

		trigger_event = {
			id = aslian.0021
		}
	}

	cost = { 
		gold = { value = RICE_activity_cost } # Will depend 
	}	

	ai_potential = {
		short_term_gold >= RICE_activity_cost
	}

	ai_will_do = {
		base = 40
		modifier = {
			add = 10
			has_trait = zealous
		}
		modifier = {
			add = -10
			has_trait = cynical
		}
	}
}

# Siwaac blood sacrifice
# Not a form of self-punishment, but a way to trick storm creatures into thinking people are punishing themselves
RICE_aslian_blood_sacrifice_decision = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_RICE_thunderstorm.dds" }
	decision_group_type = RICE_religious

	desc = RICE_aslian_blood_sacrifice_decision_desc

	ai_check_interval = 36

	cooldown = { days = 1825 } 

	is_shown = {
		is_playable_character = yes
		religion = religion:aslian_religion
		# Also unlockable via the Aslian special tradition
	}
	
	is_valid = {
		religion = religion:aslian_religion
		NOT = { has_character_modifier = RICE_aslian_performed_siwaac_blood_sacrifice }
		# Also unlockable via the Aslian special tradition
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {

		custom_tooltip = RICE_aslian_blood_sacrifice_decision_effect_tooltip_1 # More effective if a woman, especially if of menstrating age

		show_as_tooltip = {
			RICE_aslian_blood_sacrifice_decision_effect = yes
		}

		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = RICE_aslian_blood_sacrifice_decision_context_tooltip
		}

		trigger_event = {
			id = aslian.0020
		}
	}

	cost = { 
		#gold = { value = RICE_activity_cost } # Will depend 
		piety = { value = RICE_aslian_blood_sacrifice_cost } 
	}	

	ai_potential = {
		#short_term_gold >= RICE_activity_cost
		piety >= RICE_aslian_blood_sacrifice_cost
	}

	ai_will_do = {
		base = 40
		modifier = {
			add = 10
			has_trait = zealous
		}
		modifier = {
			add = -10
			has_trait = cynical
		}
	}
}