
RICE_setup_general_african_flavor_effect = {

	#########################################################################
	#
	# CULTURE AND RELIGION STUFF
	#
	#########################################################################

	culture:sinhala = { save_scope_as = sinhala }
	culture:somali = { save_scope_as = somali }

	culture:shona = {
		add_culture_tradition = tradition_RICE_zimbabwe
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:makua = {		
		get_all_innovations_from = scope:somali
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:makonde = {
		get_all_innovations_from = scope:somali
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:mijikenda = {
		get_all_innovations_from = scope:somali
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:pokomo = {
		get_all_innovations_from = scope:somali
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:seuta = {
		get_all_innovations_from = scope:somali
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:sabaki = {
		get_all_innovations_from = scope:somali
		add_innovation = innovation_RICE_monsoon_trade_routes
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:ruvu = {
		get_all_innovations_from = scope:somali
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:tsonga = {
		get_all_innovations_from = scope:somali
		add_culture_tradition = tradition_RICE_cattle_kraals
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:nguni = {
		get_all_innovations_from = scope:somali
		add_culture_tradition = tradition_RICE_cattle_kraals
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:sotho_tswana = {
		get_all_innovations_from = scope:somali
		add_culture_tradition = tradition_RICE_cattle_kraals
		add_culture_tradition = tradition_RICE_zimbabwe
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:chagga = {
		get_all_innovations_from = scope:somali
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:aweer = {
		get_all_innovations_from = scope:somali
		add_culture_tradition = tradition_RICE_forest_suppliers
		remove_variable = tradition_cooldown
	}

	# Renamed to Sabaki (previously Zanj)
	culture:east_bantu = {
		set_culture_pillar = ethos_egalitarian
		add_innovation = innovation_RICE_monsoon_trade_routes
		remove_culture_tradition = tradition_hit_and_run
		remove_culture_tradition = tradition_adaptive_skirmishing
		add_culture_tradition = tradition_RICE_swahili_contacts
		add_culture_tradition = tradition_RICE_bantu_migrators
		remove_variable = tradition_cooldown
	}

	culture:dahalo = {
		get_all_innovations_from = scope:somali
	}

	culture:oromo = {
		get_all_innovations_from = scope:somali
	}

	culture:swahili = {
		add_innovation = innovation_RICE_monsoon_trade_routes
	}

	#########################################################################
	#
	# HISTORY CHANGES
	#
	#########################################################################


 	# Ongamo
	if = {
		limit = {
			game_start_date <= 1100.1.1
		}
		title:c_taveta = {
			set_county_culture = culture:ongamo
		}
	}
	if = {
		limit = {
			game_start_date <= 1000.1.1
		}
		title:c_kirinyaga = {
			set_county_culture = culture:ongamo
		}
		title:c_kilimanjaro = {
			set_county_culture = culture:ongamo
		}
		title:c_mto_galana = {
			set_county_culture = culture:ongamo
		}
	}
	every_ruler = {
		limit = {
			culture_has_east_african_heritage_pillar_trigger = yes
			NOT = { culture = culture:ongamo }
			capital_county ?= {
				culture = culture:ongamo
			}
		}
		every_spouse = {
			limit = {
				NOT = { culture = culture:ongamo }
				culture_has_east_african_heritage_pillar_trigger = yes
			}
			set_culture = culture:ongamo
		}
		every_close_or_extended_family_member = {
			limit = {
				NOT = { culture = culture:ongamo }
				culture_has_east_african_heritage_pillar_trigger = yes
			}
			set_culture = culture:ongamo
		}
		every_courtier_or_guest = {
			limit = {
				NOT = { culture = culture:ongamo }
				culture_has_east_african_heritage_pillar_trigger = yes
			}
			set_culture = culture:ongamo
		}
		set_culture = culture:ongamo

	}

 	# Chagga
	if = {
		limit = {
			game_start_date > 1100.1.1
		}
		title:c_taveta = {
			set_county_culture = culture:chagga
		}
	}
	if = {
		limit = {
			game_start_date > 1000.1.1
		}
		title:c_kirinyaga = {
			set_county_culture = culture:chagga
		}
		title:c_kilimanjaro = {
			set_county_culture = culture:chagga
		}
		title:c_mto_galana = {
			set_county_culture = culture:chagga
		}
	}
	every_ruler = {
		limit = {
			culture_has_east_african_heritage_pillar_trigger = yes
			NOT = { culture = culture:chagga }
			capital_county ?= {
				culture = culture:chagga
			}
		}
		every_spouse = {
			limit = {
				NOT = { culture = culture:chagga }
				culture_has_east_african_heritage_pillar_trigger = yes
			}
			set_culture = culture:chagga
		}
		every_close_or_extended_family_member = {
			limit = {
				NOT = { culture = culture:chagga }
				culture_has_east_african_heritage_pillar_trigger = yes
			}
			set_culture = culture:chagga
		}
		every_courtier_or_guest = {
			limit = {
				NOT = { culture = culture:chagga }
				culture_has_east_african_heritage_pillar_trigger = yes
			}
			set_culture = culture:chagga
		}
		set_culture = culture:chagga

	}


 	# Sabaki
	title:c_mto_tana = {
		set_county_culture = culture:east_bantu
		set_county_faith = faith:mijikenda_pagan
	}
	title:c_mombasa = {
		set_county_culture = culture:east_bantu
		set_county_faith = faith:mijikenda_pagan
	}
	title:c_malindi = {
		set_county_culture = culture:east_bantu
		set_county_faith = faith:mijikenda_pagan
	}
	title:c_tanga = {
		set_county_culture = culture:east_bantu
		set_county_faith = faith:mijikenda_pagan
	}
	# title:c_pemba = {
	# 	set_county_culture = culture:east_bantu
	# 	#set_county_faith = faith:mijikenda_pagan
	# }
	every_ruler = {
		limit = {
			culture_has_east_african_heritage_pillar_trigger = yes
			#NOT = { culture = culture:east_bantu }
			capital_county ?= {
				culture = culture:east_bantu
			}
		}
		if = {
			limit = {
				NOT = { religion = religion:islam_religion }
			}
			every_spouse = {
				limit = {
					culture_has_east_african_heritage_pillar_trigger = yes
				}
				set_culture = culture:east_bantu
				set_character_faith = faith:mijikenda_pagan
			}
			every_close_or_extended_family_member = {
				limit = {
					culture_has_east_african_heritage_pillar_trigger = yes
				}
				set_culture = culture:east_bantu
				set_character_faith = faith:mijikenda_pagan
			}
			every_courtier_or_guest = {
				limit = {
					culture_has_east_african_heritage_pillar_trigger = yes
				}
				set_culture = culture:east_bantu
				set_character_faith = faith:mijikenda_pagan
			}
			set_culture = culture:east_bantu
			set_character_faith = faith:mijikenda_pagan
		}
		else = {
			every_courtier_or_guest = {
				limit = {
					is_lowborn = yes
					NOT = { culture = culture:east_bantu }
					culture_has_east_african_heritage_pillar_trigger = yes
				}
				random = {
					chance = 20
					set_culture = culture:east_bantu
					set_character_faith = faith:mijikenda_pagan
				}
			}			
			every_courtier_or_guest = {
				limit = {
					is_lowborn = yes
					NOT = { culture = culture:east_bantu }
					culture_has_east_african_heritage_pillar_trigger = yes
				}
				random = {
					chance = 20
					set_culture = culture:east_bantu
					set_character_faith = faith:mijikenda_pagan
				}
			}			
		}

	}

	every_ruler = {
		limit = {
			capital_county ?= {
				OR = {
					culture = culture:east_bantu
					culture = culture:swahili
				}
			}
		}			
		every_courtier_or_guest = {
			limit = {
				OR = {
					culture = culture:east_bantu
					culture = culture:swahili
				}
				faith = faith:ngaiism_pagan
				#NOT = { faith = faith:mijikenda_pagan }
			}
			set_character_faith = faith:mijikenda_pagan
		}

	}

}
