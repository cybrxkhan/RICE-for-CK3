###############################################################################
# 
# Niger Delta
# 
# niger_delta.0000-niger_delta.0019			Setup events, history events, miscellaneous events and decisions
# niger_delta.0920-niger_delta.0029			Niger Delta artwork/craft guilds
# niger_delta.0030-niger_delta.0049			New Yam festival
# niger_delta.0050-niger_delta.0069			Beaded Crown events
# niger_delta.0070-niger_delta.0099			Olojo festival
# niger_delta.0100-niger_delta.0149			Generic flavor events
# 
# 
###############################################################################

namespace = niger_delta

######################################################################################
# 
# SETUP EVENTS, HISTORY EVENTS, MISC DECISIONS
# 
# niger_delta.0000-niger_delta.0019
# 
######################################################################################



# Change Ooni of Ife trait
niger_delta.0001 = {
	hidden = yes
	
	trigger = {
		scope:title = title:d_ooni_of_ife
	}
	
	immediate = {
		if = {
			limit = {
				exists = scope:previous_holder
				scope:previous_holder = {
					is_alive = yes
					has_trait = RICE_ooni_of_ife
				}
			}
			scope:previous_holder = { remove_trait = RICE_ooni_of_ife }
		}
		# If previous Ooni is still around and is Orisha, they will (awkwardly) need to request the crown from the Ooni
		if = {
			limit = {
				exists = scope:previous_holder
				scope:previous_holder = {
					is_alive = yes
					NOT = { has_character_modifier = RICE_niger_delta_uncrowned }
					NOT = { has_character_flag = RICE_niger_delta_received_beaded_crown }
					religion = { rice_religion_trigger_west_african_orisha_religion = yes }
					highest_held_title_tier >= tier_county
				}
			}
			scope:previous_holder = {
				add_character_modifier = {
					modifier = RICE_niger_delta_uncrowned
				}
			}
		}
		# You no longer need to do the beaded crown thing since you are the Ooni
		if = {
			limit = {
				has_character_modifier = RICE_niger_delta_uncrowned
			}
			remove_character_modifier = RICE_niger_delta_uncrowned
		}
		add_trait = RICE_ooni_of_ife
	}
}


# Uncrowned modifier gain
niger_delta.0002 = {
	hidden = yes
	
	trigger = {
		exists = title:d_ooni_of_ife.holder
		is_landed = yes
		religion = { rice_religion_trigger_west_african_orisha_religion = yes }
		highest_held_title_tier >= tier_county
		NOT = { has_character_modifier = RICE_niger_delta_uncrowned }
		NOT = { has_title = title:d_ooni_of_ife }
		NOT = { has_character_flag = RICE_niger_delta_received_beaded_crown }
	}
	
	immediate = {
		add_character_modifier = {
			modifier = RICE_niger_delta_uncrowned
		}
	}
}

# Uncrowned modifier loss from title loss
niger_delta.0003 = {
	hidden = yes
	
	trigger = {
		exists = title:d_ooni_of_ife.holder
		is_landed = no
		has_character_modifier = RICE_niger_delta_uncrowned
	}
	
	immediate = {
		remove_character_modifier = RICE_niger_delta_uncrowned
		# Shouldn't happen but just in case
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_received_beaded_crown
			}
			remove_character_flag = RICE_niger_delta_received_beaded_crown
		}
	}
}

# Uncrowned modifier loss from converting to a different faith
niger_delta.0004 = {
	hidden = yes
	
	trigger = {
		exists = title:d_ooni_of_ife.holder
		NOT = { religion = { rice_religion_trigger_west_african_orisha_religion = yes } }
		has_character_modifier = RICE_niger_delta_uncrowned
	}
	
	immediate = {
		remove_character_modifier = RICE_niger_delta_uncrowned
		# Shouldn't happen but just in case
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_received_beaded_crown
			}
			remove_character_flag = RICE_niger_delta_received_beaded_crown
		}
	}
}

# Ooniship no longer exists for whatever reason, so all modifiers are removed
niger_delta.0005 = {
	hidden = yes
	
	trigger = {
		scope:landed_title = title:d_ooni_of_ife
	}
	
	immediate = {
		every_ruler = {
			limit = {
				has_character_modifier = RICE_niger_delta_uncrowned
			}
			remove_character_modifier = RICE_niger_delta_uncrowned
		}		
		every_ruler = {
			limit = {
				has_trait = RICE_ooni_of_ife
			}
			remove_trait = RICE_ooni_of_ife
		}		
	}
}

# Restoring the Ooni to Ife
niger_delta.0006 = {
	type = character_event
	title = niger_delta.0006.t
	desc = niger_delta.0006.desc
	theme = RICE_theme_yoruba_shrine

	right_portrait = {
		character = scope:reformer
		animation = personality_zealous
	}

	immediate = {
		play_music_cue = "mx_cue_faith_conversion"
		RICE_niger_delta_restore_ooni_effect = yes
	}

	option = {
		name = niger_delta.0006.a
		every_player = {
			limit = {
				is_ai = no
				OR = {
					religion = { rice_religion_trigger_west_african_orisha_religion = yes }
					capital_province = {
						geographical_region = world_africa_west
					}	
				}
			}
			trigger_event = niger_delta.0007 # Notification.
		}
	}
}

# Players notified.
niger_delta.0007 = {
	type = character_event
	title = niger_delta.0006.t
	desc = niger_delta.0007.desc
	theme = RICE_theme_yoruba_shrine

	right_portrait = {
		character = scope:reformer
		animation = personality_zealous
	}

	immediate = {
		play_music_cue = "mx_cue_faith_conversion"
		show_as_tooltip = {
			scope:reformer = {
				get_title = title:d_ooni_of_ife
			}
			custom_tooltip = RICE_restart_ooni_uncrowned_mechanic_loc
		}
	}

	option = {
		name = niger_delta.0007.a
	}
}


# Ooniship of Ife is (re)created the normal way and not via the special decision
niger_delta.0008 = {
	hidden = yes
	
	trigger = {
		scope:title = title:d_ooni_of_ife
		NOT = { exists = scope:previous_holder }
	}
	
	immediate = {
		every_ruler = {
			limit = {
				religion = { rice_religion_trigger_west_african_orisha_religion = yes }
				NOT = { has_title = title:d_ooni_of_ife }
				NOT = { has_character_flag = RICE_niger_delta_received_beaded_crown }
				highest_held_title_tier >= tier_county
			}
			add_character_modifier = {
				modifier = RICE_niger_delta_uncrowned
			}
		}	
	}
}

# Offering Kola Nuts
niger_delta.0010 = {
	type = character_event
	title = niger_delta.0010.t
	desc = {
		desc = niger_delta.0010.desc.intro
		first_valid = {
			triggered_desc = {
				trigger = {
					has_character_modifier = RICE_niger_delta_kola_nut_one_lobe
				}
				desc = niger_delta.0010.desc.one
			}
			triggered_desc = {
				trigger = {
					has_character_modifier = RICE_niger_delta_kola_nut_two_lobes
				}
				desc = niger_delta.0010.desc.two
			}
			triggered_desc = {
				trigger = {
					has_character_modifier = RICE_niger_delta_kola_nut_three_lobes
				}
				desc = niger_delta.0010.desc.three
			}
			triggered_desc = {
				trigger = {
					has_character_modifier = RICE_niger_delta_kola_nut_four_lobes
				}
				desc = niger_delta.0010.desc.four
			}
			triggered_desc = {
				trigger = {
					has_character_modifier = RICE_niger_delta_kola_nut_five_lobes
				}
				desc = niger_delta.0010.desc.five
			}
			triggered_desc = {
				trigger = {
					has_character_modifier = RICE_niger_delta_kola_nut_six_lobes
				}
				desc = niger_delta.0010.desc.six
			}
			triggered_desc = {
				trigger = {
					has_character_modifier = RICE_niger_delta_kola_nut_seven_lobes
				}
				desc = niger_delta.0010.desc.seven
			}
		}
	}
	theme = RICE_theme_yoruba_shrine
	
	right_portrait = {
		character = root
		animation = personality_zealous
	}
	
	immediate = {
		random_list = {
			10 = {
				add_piety = -100
				add_character_modifier = {
					modifier = RICE_niger_delta_kola_nut_one_lobe
					years = 5
				}
			}
			20 = {
				add_piety = -50
				add_character_modifier = {
					modifier = RICE_niger_delta_kola_nut_two_lobes
					years = 5
				}
			}
			25 = {
				add_piety = 50
				add_character_modifier = {
					modifier = RICE_niger_delta_kola_nut_three_lobes
					years = 5
				}
			}
			20 = {
				add_piety = 50
				add_character_modifier = {
					modifier = RICE_niger_delta_kola_nut_four_lobes
					years = 5
				}
			}
			10 = {
				add_piety = 150
				add_character_modifier = {
					modifier = RICE_niger_delta_kola_nut_five_lobes
					years = 5
				}
			}
			10 = {
				add_piety = 200
				add_character_modifier = {
					modifier = RICE_niger_delta_kola_nut_six_lobes
					years = 5
				}
			}
			5 = {
				add_piety = 250
				add_character_modifier = {
					modifier = RICE_niger_delta_kola_nut_seven_lobes
					years = 5
				}
			}
		}		
	}
	
	option = { # ok
		name = niger_delta.0010.a
	}


}





######################################################################################
# 
# NIGER DELTA ARTWORK/CRAFT GUILDS
# 
# niger_delta.0020-niger_delta.0029
# 
######################################################################################



# Get the guild
niger_delta.0020 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = {					
					scope:organizer = {
						var:RICE_guild_type = flag:bronze_casters
					}
				}
				desc = niger_delta.0020.t.a
			}			
			triggered_desc = {
				trigger = {					
					scope:organizer = {
						var:RICE_guild_type = flag:ironsmiths
					}
				}
				desc = niger_delta.0020.t.b
			}			
			triggered_desc = {
				trigger = {					
					scope:organizer = {
						var:RICE_guild_type = flag:ivory_and_wood_carvers
					}
				}
				desc = niger_delta.0020.t.c
			}			
			triggered_desc = {
				trigger = {					
					scope:organizer = {
						var:RICE_guild_type = flag:beadmakers
					}
				}
				desc = niger_delta.0020.t.d
			}			
		}
	}
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					is_dynast = yes
				}
				desc = niger_delta.0020.desc.intro.dynasty_head
			}
			desc = niger_delta.0020.desc.intro.dynasty_other
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:organizer = {
						var:RICE_guild_type = flag:bronze_casters
					}
				}
				desc = niger_delta.0020.desc.bronze_casters
			}
			triggered_desc = {
				trigger = {
					scope:organizer = {
						var:RICE_guild_type = flag:ironsmiths
					}
				}
				desc = niger_delta.0020.desc.ironsmiths
			}
			triggered_desc = {
				trigger = {
					scope:organizer = {
						var:RICE_guild_type = flag:ivory_and_wood_carvers
					}
				}
				desc = niger_delta.0020.desc.ivory_and_wood_carvers
			}
			triggered_desc = {
				trigger = {
					scope:organizer = {
						var:RICE_guild_type = flag:beadmakers
					}
				}
				desc = niger_delta.0020.desc.beadmakers
			}
		}
		desc = niger_delta.0020.desc.conclusion
	}
	theme = dynasty

	right_portrait = scope:organizer

	immediate = {
		scope:organizer = {
			RICE_niger_delta_organize_craft_guild_effect = yes
		}
	}

	# Ok
	option = {
		name = niger_delta.0020.a
	}

	after = {
		if = {
			limit = { has_variable = RICE_guild_type }
			remove_variable = RICE_guild_type
		}
	}

}



# Commissioning some kind of artwork
niger_delta.0021 = {
	type = character_event
	title = niger_delta.0021.t
	desc = {
		desc = niger_delta.0021.desc.intro
		first_valid = {
			triggered_desc = {
				trigger = {
					var:RICE_art_type = flag:bronze
				}
				desc = niger_delta.0021.desc.bronze
			}
			triggered_desc = {
				trigger = {
					var:RICE_art_type = flag:iron
				}
				desc = niger_delta.0021.desc.iron
			}
			triggered_desc = {
				trigger = {
					OR = {
						var:RICE_art_type = flag:ivory
						var:RICE_art_type = flag:wood
					}
				}
				desc = niger_delta.0021.desc.ivory_or_wood
			}
			triggered_desc = {
				trigger = {
					var:RICE_art_type = flag:glass
				}
				desc = niger_delta.0021.desc.glass
			}
			triggered_desc = {
				trigger = {
					var:RICE_art_type = flag:coral
				}
				desc = niger_delta.0021.desc.coral
			}
		}
		desc = niger_delta.0021.desc.conclusion
	}
	theme = realm
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	immediate = {
		add_character_flag = RICE_niger_delta_waiting_for_artifact
		save_scope_as = patron
		if = {
			limit = {
				OR = {
					var:RICE_art_type = flag:bronze
					var:RICE_art_type = flag:iron
				}
			}
			remove_short_term_gold = 100
		}
		else_if = {
			limit = {
				OR = {
					var:RICE_art_type = flag:glass
					var:RICE_art_type = flag:coral
				}
			}
			remove_short_term_gold = 125
		}
		else = {
			remove_short_term_gold = 50
		}
		# Randomly pick a quality
		random_list = {
			40 = {
				set_variable = {
					name = RICE_niger_delta_art_quality
					value = flag:fair
				}				
			}
			30 = {
				set_variable = {
					name = RICE_niger_delta_art_quality
					value = flag:good
				}				
			}
			20 = {
				set_variable = {
					name = RICE_niger_delta_art_quality
					value = flag:excellent
				}				
			}
		}
	}
	
	option = { # Ok
		name = niger_delta.0021.a
		hidden_effect = {
			#trigger_event = niger_delta.0022
			trigger_event = {
				id = niger_delta.0022
				#days = 1
				months = { 10 15 }
			}			
		}
	}
}


# Artwork is done
niger_delta.0022 = {
	type = character_event
	title = niger_delta.0022.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_character_flag = RICE_niger_delta_art_heir
				}
				desc = niger_delta.0022.desc.intro.heir
			}
			desc = niger_delta.0022.desc.intro
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					var:RICE_art_type = flag:bronze
				}
				desc = niger_delta.0022.desc.bronze
			}
			triggered_desc = {
				trigger = {
					var:RICE_art_type = flag:iron
				}
				desc = niger_delta.0022.desc.iron
			}
			triggered_desc = {
				trigger = {
					var:RICE_art_type = flag:ivory
				}
				desc = niger_delta.0022.desc.ivory
			}
			triggered_desc = {
				trigger = {
					var:RICE_art_type = flag:wood
				}
				desc = niger_delta.0022.desc.wood
			}
			triggered_desc = {
				trigger = {
					var:RICE_art_type = flag:glass
				}
				desc = niger_delta.0022.desc.glass
			}
			triggered_desc = {
				trigger = {
					var:RICE_art_type = flag:coral
				}
				desc = niger_delta.0022.desc.coral
			}
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					var:RICE_niger_delta_art_quality = flag:fair
				}
				desc = niger_delta.0022.desc.quality.fair
			}
			triggered_desc = {
				trigger = {
					var:RICE_niger_delta_art_quality = flag:good
				}
				desc = niger_delta.0022.desc.quality.good
			}
			triggered_desc = {
				trigger = {
					var:RICE_niger_delta_art_quality = flag:excellent
				}
				desc = niger_delta.0022.desc.quality.excellent
			}
		}
	}
	theme = realm
	
	right_portrait = {
		character = scope:current_patron
		animation = happiness
	}
	artifact = { # To display the artifact in the event-window
		target = scope:RICE_niger_delta_art
		position = lower_center_portrait
	}

	immediate = {
		save_scope_as = current_patron
		RICE_niger_delta_create_guild_artifact_effect = yes
	}
	
	option = { # Ok
		name = niger_delta.0022.a
		if = {
			limit = {
				var:RICE_art_type = flag:bronze
			}
			add_piety = 100
			add_prestige = 50
		}
		else_if = {
			limit = {
				var:RICE_art_type = flag:iron
			}
			add_prestige = 100
			add_piety = 50
		}
		else_if = {
			limit = {
				OR = {
					var:RICE_art_type = flag:wood
					var:RICE_art_type = flag:ivory
				}
			}
			add_prestige = 50
			add_piety = 50
		}
		else_if = {
			limit = {
				OR = {
					var:RICE_art_type = flag:glass
					var:RICE_art_type = flag:coral
				}
			}
			add_prestige = 50
			add_piety = 50
			dynasty = { add_dynasty_prestige = 20 }
		}
		show_as_tooltip = {
			scope:RICE_niger_delta_art = {
				set_owner = {
					target = root
				}
			}
		}
	}

	after = {
		if = {
			limit = { has_variable = RICE_niger_delta_art_quality }
			remove_variable = RICE_niger_delta_art_quality
		}		
		if = {
			limit = { has_variable = RICE_art_type }
			remove_variable = RICE_art_type
		}		
		if = {
			limit = { has_character_flag = RICE_niger_delta_waiting_for_artifact }
			remove_character_flag = RICE_niger_delta_waiting_for_artifact
		}		
	}

}




# Character dies before receiving artifact
niger_delta.0023 = {
	scope = none
	hidden = yes
	
	trigger = {
		has_character_flag = RICE_niger_delta_waiting_for_artifact
	}
	
	immediate = {
		save_scope_as = patron
		if = {
			limit = {
				exists = primary_heir
			}

			if = {
				limit = {
					var:RICE_art_type = flag:bronze
				}
				primary_heir = {
					set_variable = {
						name = RICE_art_type
						value = flag:bronze
					}
				}
			}
			else_if = {
				limit = {
					var:RICE_art_type = flag:iron
				}
				primary_heir = {
					set_variable = {
						name = RICE_art_type
						value = flag:iron
					}
				}
			}
			else_if = {
				limit = {
					var:RICE_art_type = flag:ivory
				}
				primary_heir = {
					set_variable = {
						name = RICE_art_type
						value = flag:ivory
					}
				}
			}
			else_if = {
				limit = {
					var:RICE_art_type = flag:wood
				}
				primary_heir = {
					set_variable = {
						name = RICE_art_type
						value = flag:wood
					}
				}
			}
			else_if = {
				limit = {
					var:RICE_art_type = flag:glass
				}
				primary_heir = {
					set_variable = {
						name = RICE_art_type
						value = flag:glass
					}
				}
			}
			else_if = {
				limit = {
					var:RICE_art_type = flag:coral
				}
				primary_heir = {
					set_variable = {
						name = RICE_art_type
						value = flag:coral
					}
				}
			}

			primary_heir = {
				add_character_flag = RICE_niger_delta_waiting_for_artifact
				add_character_flag = RICE_niger_delta_art_heir
				set_variable = {
					name = RICE_niger_delta_art_quality
					value = flag:fair
				}
				trigger_event = {
					id = niger_delta.0022
					days = 1
				}
			}
		}
	}
}












######################################################################################
# 
# NEW YAM FESTIVAL
# 
# niger_delta.0030-niger_delta.0049
# 
######################################################################################





# Choose a date for the Yam festival
niger_delta.0030 = {
	type = activity_event
	title = niger_delta.0030.t
	desc = niger_delta.0030.desc
	theme = realm
	
	right_portrait = {
		character = root
		animation = personality_rational
	}
	
	option = { # The ruler should choose
		name = niger_delta.0030.a
		add_prestige = 15
		add_piety = 15
		dynasty = { add_dynasty_prestige = 10 }
		stress_impact = {
			humble = minor_stress_impact_gain
			lazy = minor_stress_impact_gain
		}
	}
	
	option = { # The priests should choose
		name = niger_delta.0030.b
		add_piety = 30
		cp:councillor_court_chaplain = {
			add_opinion = {
				target = root
				modifier = RICE_niger_delta_opinion_choose_new_yam_date
			}			
		}
		every_vassal = {
			custom = RICE_every_religious_vassal
			limit = {
				has_government = theocracy_government
			}
			add_opinion = {
				target = root
				modifier = RICE_niger_delta_opinion_choose_new_yam_date
			}
		}
		stress_impact = {
			cynical = minor_stress_impact_gain
			ambitious = minor_stress_impact_gain
		}
	}
	
	option = { # The elders should choose
		name = niger_delta.0030.c
		add_prestige = 30
		every_courtier = {
			custom = RICE_every_courtier_over_50
			limit = {
				age >= 50
			}
			add_opinion = {
				target = root
				modifier = RICE_niger_delta_opinion_choose_new_yam_date
			}
		}
		every_vassal = {
			custom = RICE_every_non_religious_vassal
			limit = {
				NOT = { has_government = theocracy_government }
			}
			add_opinion = {
				target = root
				modifier = RICE_niger_delta_opinion_choose_new_yam_date
			}
		}
		stress_impact = {
			arrogant = minor_stress_impact_gain
			paranoid = minor_stress_impact_gain
		}
	}

	after = {
		trigger_event = niger_delta.0031
	}

}



# Now that you're done choosing, the festival will start
niger_delta.0031 = {
	type = activity_event
	title = niger_delta.0031.t
	desc = niger_delta.0031.desc
	theme = realm
	
	right_portrait = {
		character = root
		animation = personality_rational
	}
	
	option = { # Ok
		name = niger_delta.0031.a
	}

	after = {		
		hidden_effect = {
			# Sacrifice a prisoner?
			trigger_event = {
				id = niger_delta.0034
				days = { 5 20 }
			}
			if = {
				limit = {
					any_courtier = {
						is_available_ai_adult = yes
						OR = {
							has_trait = greedy
							has_trait = cynical
							has_trait = gluttonous
							has_trait = impatient
							has_trait = lunatic
							has_trait = possessed
						}
					}
				}
				random = {
					chance = 25
					# Someone gets caught eating yams
					trigger_event = {
						id = niger_delta.0035
						days = { 5 20 }
					}
				}
	
			}
			random = {
				chance = 25
				# You are tempted to eat yams
				trigger_event = {
					id = niger_delta.0036
					days = { 5 20 }
				}
			}	
			trigger_event = { # Festival starts
				id = niger_delta.0032
				days = { 25 40 }
			}		
		}
	}

}


# The festival is starting!
niger_delta.0032 = {
	type = activity_event
	title = niger_delta.0032.t
	desc = niger_delta.0032.desc
	theme = RICE_theme_yoruba_shrine
	
	right_portrait = {
		character = root
		animation = happiness
	}
	
	# In real life, who eats the yams first is determined by the traditions of each respective culture or community
	# However, for gameplay sake, it is a choice for the player
	option = { # Ruler
		name = niger_delta.0032.a
		add_character_modifier = {
			modifier = RICE_niger_delta_new_yam_festival_ruler_ate_first_yam
			years = 10
		}	
	}
	option = { # Priest
		name = niger_delta.0032.b	
		add_character_modifier = {
			modifier = RICE_niger_delta_new_yam_festival_priests_ate_first_yam
			years = 10
		}	
	}
	option = { # Commoner
		name = niger_delta.0032.c	
		add_character_modifier = {
			modifier = RICE_niger_delta_new_yam_festival_commoners_ate_first_yam
			years = 10
		}	
	}

	after = {
		
		trigger_event = {
			id = niger_delta.0033
			days = { 15 20 }
		}

		# RANDOM EVENTS

		hidden_effect = {
			# Should people be allowed to have fun and be a little loose?
			random = {
				chance = 20
				trigger_event = {
					id = niger_delta.0040
					days = { 3 13 }
				}				
			}
			# Magical herbs distributed to everyone
			random = {
				chance = 20
				trigger_event = {
					id = niger_delta.0041
					days = { 3 12 }
				}				
			}
			# Visiting ancestral shrines
			random = {
				chance = 20
				trigger_event = {
					id = niger_delta.0042
					days = { 3 12 }
				}				
			}
			# Yam king competition
			random = {
				chance = 20
				trigger_event = {
					id = niger_delta.0043
					days = { 3 12 }
				}				
			}
			# Displaying abnormally large yams
			random = {
				chance = 20
				trigger_event = {
					id = niger_delta.0044
					days = { 3 12 }
				}				
			}
			# What to do with the largest yam
			random = {
				chance = 20
				trigger_event = {
					id = niger_delta.0045
					days = { 3 12 }
				}				
			}
			# A traveler accidentally arrives with strange yams
			random = {
				chance = 20
				trigger_event = {
					id = niger_delta.0046
					days = { 3 12 }
				}				
			}
			# Join in the merriment or not?
			random = {
				chance = 20
				trigger_event = {
					id = niger_delta.0047
					days = { 3 12 }
				}				
			}			
		}

	}

}

# The festival ends
niger_delta.0033 = {
	type = activity_event
	title = niger_delta.0033.t
	desc = niger_delta.0033.desc
	theme = RICE_theme_yoruba_shrine
	
	right_portrait = {
		character = root
		animation = personality_content
	}
	
	option = { # Ok
		name = niger_delta.0033.a
		if = {
			limit = {
				has_activity_intent = RICE_niger_delta_new_yam_festival_celebration_intent
			}
			stress_impact = {
				base = minor_stress_impact_loss
				gregarious = miniscule_stress_impact_loss
				gluttonous = miniscule_stress_impact_loss
				content = miniscule_stress_impact_loss
			}
		}
		else_if = {
			limit = {
				has_activity_intent = RICE_niger_delta_new_yam_festival_generosity_intent
			}
			stress_impact = {
				just = miniscule_stress_impact_loss
				generous = miniscule_stress_impact_loss
			}
		}
		every_sub_realm_county = {
			limit = {
				tier = tier_county
			}
			custom = RICE_niger_delta_every_county
			random = {
				chance = 40
				modifier = {
					root = {
						has_activity_intent = RICE_niger_delta_new_yam_festival_generosity_intent
					}
					add = 20
				}
				modifier = {
					root = { has_character_flag = RICE_niger_delta_yam_festival_sacrificed_prisoner }
					add = 10
				}
				modifier = {
					root = { diplomacy >= decent_skill_rating }
					add = 5
				}
				modifier = {
					root = { diplomacy >= high_skill_rating }					
					add = 5
				}
				modifier = {
					root = { diplomacy <= mediocre_skill_rating }					
					add = -5
				}
				modifier = {
					root = { diplomacy <= low_skill_rating }					
					add = -5
				}
				modifier = {
					root = { stewardship >= decent_skill_rating }					
					add = 5
				}
				modifier = {
					root = { stewardship >= high_skill_rating }					
					add = 5
				}
				modifier = {
					root = { stewardship <= mediocre_skill_rating }					
					add = -5
				}
				modifier = {
					root = { stewardship <= low_skill_rating }					
					add = -5
				}
				modifier = {
					root = { has_character_flag = RICE_niger_delta_yam_did_not_punish_yam_eater }					
					add = -5
				}
				modifier = {
					root = { has_character_flag = RICE_niger_delta_yam_ruler_caught_eating_yams_paid_fine }					
					add = -5
				}
				modifier = {
					root = { has_character_flag = RICE_niger_delta_yam_ruler_caught_eating_yams_didnt_pay_fine }					
					add = -15
				}
				modifier = {
					root = { has_character_flag = RICE_niger_delta_yam_festival_ignored_strange_yam }					
					add = -10
				}
				modifier = {
					root = { has_character_flag = RICE_niger_delta_got_a_real_yam_king }					
					add = 10
				}
				modifier = {
					root = { has_character_flag = RICE_niger_delta_yam_festival_king_yam }					
					add = 5
				}
				modifier = {
					root = { has_character_flag = RICE_niger_delta_yam_festival_largest_yam }					
					add = 5
				}
				modifier = {
					root = { has_character_flag = RICE_niger_delta_yam_extra_sacrifice }					
					add = 5
				}
				add_county_modifier = {
					modifier = RICE_niger_delta_successful_new_yam_festival
					years = 10
				}
			}
		}	
	}

	after = {
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_yam_festival_sacrificed_prisoner
			}
			remove_character_flag = RICE_niger_delta_yam_festival_sacrificed_prisoner
		}
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_yam_did_not_punish_yam_eater
			}
			remove_character_flag = RICE_niger_delta_yam_did_not_punish_yam_eater
		}
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_yam_ruler_caught_eating_yams_paid_fine
			}
			remove_character_flag = RICE_niger_delta_yam_ruler_caught_eating_yams_paid_fine
		}
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_yam_ruler_caught_eating_yams_didnt_pay_fine
			}
			remove_character_flag = RICE_niger_delta_yam_ruler_caught_eating_yams_didnt_pay_fine
		}
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_yam_festival_ignored_strange_yam
			}
			remove_character_flag = RICE_niger_delta_yam_festival_ignored_strange_yam
		}
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_got_a_real_yam_king
			}
			remove_character_flag = RICE_niger_delta_got_a_real_yam_king
		}
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_yam_festival_king_yam
			}
			remove_character_flag = RICE_niger_delta_yam_festival_king_yam
		}
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_yam_festival_largest_yam
			}
			remove_character_flag = RICE_niger_delta_yam_festival_largest_yam
		}
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_yam_extra_sacrifice
			}
			remove_character_flag = RICE_niger_delta_yam_extra_sacrifice
		}


		scope:activity = {
			every_attending_character = {
				limit = { NOT = { this = scope:host } }
				custom = EVERY_ACTIVITY_PARTICIPANT_EFFECT
				add_piety = 25
			}	
			hidden_effect = { skip_activity_phase = yes }
		}
	}

}


# Ritual purification through human sacrifice
niger_delta.0034 = {
	type = activity_event
	title = niger_delta.0034.t
	desc = niger_delta.0034.desc
	theme = prison
	#override_icon = { reference = "gfx/interface/icons/event_types/type_faith.dds" } 
	
	left_portrait = {
		character = root
		animation = war_defender
	}
	right_portrait = {
		character = scope:prisoner
		animation = prisondungeon
	}

	trigger = {
		# has_prisoners = yes
		OR = {
			any_prisoner = {
				is_adult = yes
				is_landed = no
				#root = { has_execute_reason = prev }
				NOT = {
					any_close_family_member = {
						is_landed = yes
					}
				}
			}
			has_activity_intent = RICE_niger_delta_new_yam_festival_purification_intent
		}
	}

	immediate = {
		if = {
			limit = {
				NOT = {				
					any_prisoner = {
						is_adult = yes
						is_landed = no
						#root = { has_execute_reason = prev }
						NOT = {
							any_close_family_member = {
								is_landed = yes
							}
						}
					}
				}
				has_activity_intent = RICE_niger_delta_new_yam_festival_purification_intent
			}
			create_character = {
				template = RICE_niger_delta_yam_prisoner
				employer = root
				save_scope_as = prisoner
			}
			# Showing errors for some reason, so commented out since it doesn't really matter if they're imprisoned or not since they die immediately
			# hidden_effect = {
			# 	#root = {
			# 		rightfully_imprison_character_effect = {
			# 			TARGET = scope:prisoner
			# 			IMPRISONER = root
			# 		}
			# 	#}				
			# }
		}
		else = {
			random_prisoner = {			
				limit = {
					is_adult = yes
					is_landed = no
					#root = { has_execute_reason = prev }
					NOT = {
						any_close_family_member = {
							is_landed = yes
						}
					}
				}
				save_scope_as = prisoner
			}
		}

	}
	
	option = { # Ok
		name = niger_delta.0034.a
		trigger = {
			OR = {
				gold >= 25
				is_ai = no
			}
		}
		remove_short_term_gold = 25
		scope:prisoner = {
			death = {
				death_reason = death_execution
				killer = root
			}
		}
		execute_opinion_effect = { VICTIM = scope:prisoner EXECUTIONER = root }
		custom_tooltip = niger_delta.0034.a.tooltip
		add_character_flag = RICE_niger_delta_yam_festival_sacrificed_prisoner
		stress_impact = {
			compassionate = minor_stress_impact_gain
			forgiving = minor_stress_impact_gain
			cynical = miniscule_stress_impact_gain
		}
		scope:activity = {
			add_activity_log_entry = {
				key = RICE_niger_delta_new_yam_festival_sacrifice_log
				tags = { good }
				# this line below adds the entry to the Effects section of the conclusion UI
				show_in_conclusion = yes
				character = scope:prisoner
				scope:host = {
					if = {
						limit = {
							has_activity_intent = RICE_niger_delta_new_yam_festival_purification_intent
						}
						add_prestige = 100
					}
				}
			}
		}
		ai_chance = {
			base = 30
			modifier = {
				add = 15
				has_trait = sadistic
			}
			modifier = {
				add = 15
				has_trait = vengeful
			}
			modifier = {
				add = 30
				has_trait = zealous
			}
		}
	}
	
	option = { # No need
		name = niger_delta.0034.b
		trigger = {
			NOT = {
				has_activity_intent = RICE_niger_delta_new_yam_festival_purification_intent
			}
		}
		add_piety = -50
		scope:prisoner = {
			add_opinion = {
				target = root
				modifier = RICE_niger_delta_opinion_spared_me_from_execution
			}			
		}
		stress_impact = {
			zealous = minor_stress_impact_gain
			just = miniscule_stress_impact_gain
			sadistic = miniscule_stress_impact_gain
			vengeful = miniscule_stress_impact_gain
		}
		ai_chance = {
			base = 70
		}
	}

}

# Courtier gets caught eating yams - what to do?
niger_delta.0035 = {
	type = activity_event
	title = niger_delta.0035.t
	desc = niger_delta.0035.desc
	theme = corruption
	
	left_portrait = {
		character = root
		animation = stress
	}
	right_portrait = {
		character = scope:yam_eater
		animation = shame
	}

	trigger = {
		any_courtier = {
			is_available_ai_adult = yes
			OR = {
				has_trait = greedy
				has_trait = cynical
				has_trait = gluttonous
				has_trait = impatient
				has_trait = lunatic
				has_trait = possessed
			}
		}
	}

	immediate = {
		random_courtier = {			
			limit = {
				is_available_ai_adult = yes
				OR = {
					has_trait = greedy
					has_trait = cynical
					has_trait = gluttonous
					has_trait = impatient
					has_trait = lunatic
					has_trait = possessed
				}
			}
			save_scope_as = yam_eater
			# create_character_memory = {
			# 	type = RICE_niger_delta_got_caught_eating_yams_memory
			# }
		}
		scope:activity = {
			add_activity_log_entry = {
				key = RICE_niger_delta_new_yam_festival_caught_eating_log
				tags = { bad }
				# this line below adds the entry to the Effects section of the conclusion UI
				show_in_conclusion = yes
				character = scope:yam_eater
				scope:yam_eater = {
					add_piety = -100
					add_character_modifier = {
						modifier = RICE_niger_delta_ate_yams_early
						years = 10
					}
				}
			}
		}

	}
	
	option = { # Let them go free
		name = niger_delta.0035.a

		add_piety = -50

		scope:yam_eater = {
			add_opinion = {
				target = root
				modifier = RICE_niger_delta_opinion_spared_me_from_punishment
			}			
		}

		add_opinion = {
			target = scope:yam_eater
			modifier = RICE_niger_delta_opinion_broke_yam_taboo_not_criminal
		}

		hidden_effect = {
			every_courtier_or_guest = {
				add_opinion = {
					target = scope:yam_eater
					modifier = RICE_niger_delta_opinion_broke_yam_taboo_not_criminal
				}
			}
			every_vassal = {
				add_opinion = {
					target = scope:yam_eater
					modifier = RICE_niger_delta_opinion_broke_yam_taboo_not_criminal
				}
			}
		}

		stress_impact = {
			just = minor_stress_impact_gain
			vengeful = minor_stress_impact_gain
			zealous = minor_stress_impact_gain
		}

		custom_tooltip = niger_delta.0035.a.tooltip
		add_character_flag = RICE_niger_delta_yam_did_not_punish_yam_eater
	}
	
	option = { # Make them pay a fine
		name = niger_delta.0035.b

		add_prestige = -50

		scope:yam_eater = {
			add_opinion = {
				target = root
				modifier = RICE_niger_delta_opinion_fair_punishment_but_still_annoyed
			}		
		}

		if = {
			limit = {
				scope:yam_eater = {
					is_landed = no
				}
			}
			scope:yam_eater = {	
				pay_short_term_gold = {
					target = root
					gold = 30
				}
			}	
		}
		else_if = {
			limit = {
				scope:yam_eater = {
					OR = {
						highest_held_title_tier = tier_county
						highest_held_title_tier = tier_duchy
					}
				}
			}			
			scope:yam_eater = {	
				pay_short_term_gold = {
					target = root
					gold = 50
				}
			}			
		}
		else_if = {
			limit = {
				scope:yam_eater = {
					highest_held_title_tier >= tier_kingdom
				}
			}			
			scope:yam_eater = {	
				pay_short_term_gold = {
					target = root
					gold = 100
				}
			}			
		}


		add_opinion = {
			target = scope:yam_eater
			modifier = RICE_niger_delta_opinion_broke_yam_taboo_not_criminal
		}

		hidden_effect = {
			every_courtier_or_guest = {
				add_opinion = {
					target = scope:yam_eater
					modifier = RICE_niger_delta_opinion_broke_yam_taboo_not_criminal
				}
			}
			every_vassal = {
				add_opinion = {
					target = scope:yam_eater
					modifier = RICE_niger_delta_opinion_broke_yam_taboo_not_criminal
				}
			}
		}
	}
	
	option = { # Declare them a criminal
		name = niger_delta.0035.c

		add_piety = 50
		add_prestige = 50

		scope:yam_eater = {
			add_opinion = {
				target = root
				modifier = RICE_niger_delta_opinion_declared_yam_crime
			}			
		}

		add_opinion = {
			target = scope:yam_eater
			modifier = RICE_niger_delta_opinion_broke_yam_taboo
		}

		hidden_effect = {
			every_courtier_or_guest = {
				add_opinion = {
					target = scope:yam_eater
					modifier = RICE_niger_delta_opinion_broke_yam_taboo
				}
			}
			every_vassal = {
				add_opinion = {
					target = scope:yam_eater
					modifier = RICE_niger_delta_opinion_broke_yam_taboo
				}
			}
		}

		stress_impact = {
			forgiving = minor_stress_impact_gain
			cynical = minor_stress_impact_gain
			trusting = miniscule_stress_impact_gain
			calm = miniscule_stress_impact_gain
		}
	}


}



# Tempted to eat yams - will you do it or not?
niger_delta.0036 = {
	type = activity_event
	title = niger_delta.0036.t
	desc = niger_delta.0036.desc
	theme = corruption
	override_background = { reference = RICE_background_benin_village }
	
	left_portrait = {
		character = root
		animation = personality_greedy
	}
	
	option = { # Resist temptation
		name = niger_delta.0036.a
		add_piety = 25
		stress_impact = {
			base = miniscule_stress_impact_gain
			cynical = miniscule_stress_impact_gain
			gluttonous = medium_stress_impact_gain
		}
	}
	
	option = { # Give in to temptation
		name = niger_delta.0036.b
		add_piety = -25
		if = {
			limit = {
				has_trait = zealous
			}
			stress_impact = {
				zealous = minor_stress_impact_gain
			}
		}
		stress_impact = {
			base = miniscule_stress_impact_loss
			gluttonous = minor_stress_impact_loss
		}
		duel = {
			skill = intrigue
			value = 10
			12 = {
				#desc = niger_delta.0036.b.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 0.5
				}
				add_character_flag = RICE_niger_delta_yam_taboo_avoided_getting_caught
				custom_tooltip = niger_delta.0036.b.success
			}
			8 = {
				#desc = niger_delta.0036.b.failure
				add_character_flag = RICE_niger_delta_yam_taboo_got_caught
				custom_tooltip = niger_delta.0036.b.failure
			}
		}
		trigger_event = niger_delta.0037
	}

}



# Tempted to eat yams - result
niger_delta.0037 = {
	type = activity_event
	title = niger_delta.0037.t
	desc = {
		desc = niger_delta.0037.desc.intro
		first_valid = {
			triggered_desc = {
				trigger = {
					has_character_flag = RICE_niger_delta_yam_taboo_avoided_getting_caught
				}
				desc = niger_delta.0037.desc.not_caught
			}
			triggered_desc = {
				trigger = {
					has_character_flag = RICE_niger_delta_yam_taboo_got_caught
				}
				desc = niger_delta.0037.desc.caught
			}
		}
	}
	theme = corruption
	override_background = { reference = RICE_background_benin_village }

	right_portrait = {
		character = root
		triggered_animation = {
			trigger = { has_character_flag = RICE_niger_delta_yam_taboo_avoided_getting_caught }
			animation = scheme
		}
		triggered_animation = {
			trigger = { has_character_flag = RICE_niger_delta_yam_taboo_got_caught }
			animation = shame
		}
	}

	immediate = {

		save_scope_as = yam_taboo_breaker

		# if = {
		# 	limit = {
		# 		is_independent_ruler = no
		# 	}
		# 	liege = {
		# 		save_scope_as = character_liege
		# 	}
		# }

		if = {
			limit = {
				has_character_flag = RICE_niger_delta_yam_taboo_got_caught
			}
			# create_character_memory = {
			# 	type = RICE_niger_delta_got_caught_eating_yams_memory
			# }
			scope:activity = {
				add_activity_log_entry = {
					key = RICE_niger_delta_new_yam_festival_caught_eating_self_log
					tags = { bad }
					# this line below adds the entry to the Effects section of the conclusion UI
					show_in_conclusion = yes
					character = scope:yam_taboo_breaker
					scope:yam_taboo_breaker = {
						add_piety = -50
						add_character_modifier = {
							modifier = RICE_niger_delta_ate_yams_early
							years = 10
						}
					}
				}
			}
		}


	}
	
	option = { # Didn't get caught
		name = niger_delta.0037.a
		trigger = {
			has_character_flag = RICE_niger_delta_yam_taboo_avoided_getting_caught
		}
	}
	
	# option = { # Pay a fine to liege to avoid being branded a criminal
	# 	name = niger_delta.0037.b
	# 	trigger = {
	# 		has_character_flag = RICE_niger_delta_yam_taboo_got_caught
	# 		is_independent_ruler = no
	# 	}
	# 	stress_impact = {
	# 		wrathful = miniscule_stress_impact_gain
	# 		greedy = minor_stress_impact_gain
	# 	}
	# 	if = {
	# 		limit = {
	# 			highest_held_title_tier > tier_duchy
	# 		}
	# 		pay_short_term_gold = {
	# 			target = scope:character_liege
	# 			gold = 100
	# 		}
	# 	}
	# 	else = {
	# 		pay_short_term_gold = {
	# 			target = scope:character_liege
	# 			gold = 50
	# 		}
	# 	}

	# 	add_character_flag = RICE_niger_delta_yam_taboo_paid_liege

	# 	scope:character_liege = {
	# 		trigger_event = niger_delta.0038
	# 	}

	# }
	
	option = { # If independent, pay a fine to the religious authorities
		name = niger_delta.0037.b
		trigger = {
			has_character_flag = RICE_niger_delta_yam_taboo_got_caught
			#is_independent_ruler = yes
		}

		stress_impact = {
			wrathful = miniscule_stress_impact_gain
			greedy = minor_stress_impact_gain
		}		

		if = {
			limit = {
				highest_held_title_tier > tier_duchy
			}
			remove_short_term_gold = 100
		}
		else = {
			remove_short_term_gold = 50
		}


		custom_tooltip = niger_delta.0037.b.tooltip
		add_character_flag = RICE_niger_delta_yam_ruler_caught_eating_yams_paid_fine		

	}
	
	option = { # Don't pay a fine and risk pissing off a lot of people or being branded a criminal
		name = niger_delta.0037.c
		trigger = {
			has_character_flag = RICE_niger_delta_yam_taboo_got_caught
		}
		stress_impact = {
			just = miniscule_stress_impact_gain
			zealous = medium_stress_impact_gain
		}
		add_piety_level = -1
		# if = {
		# 	limit = {
		# 		is_independent_ruler = no
		# 	}
		# 	custom_tooltip = niger_delta.0037.d.tooltip
		# 	add_character_flag = RICE_niger_delta_yam_taboo_did_not_pay_liege
		# 	scope:character_liege = {
		# 		add_opinion = {
		# 			target = root
		# 			modifier = RICE_niger_delta_opinion_declared_yam_crime
		# 		}	
		# 		trigger_event = niger_delta.0038		
		# 	}			
		# }


		custom_tooltip = niger_delta.0037.c.tooltip
		add_character_flag = RICE_niger_delta_yam_ruler_caught_eating_yams_didnt_pay_fine

	}

	after = {
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_yam_taboo_avoided_getting_caught
			}
			remove_character_flag = RICE_niger_delta_yam_taboo_avoided_getting_caught
		}
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_yam_taboo_got_caught
			}
			remove_character_flag = RICE_niger_delta_yam_taboo_got_caught
		}
	}

}


# Liege reacts to vassal eating yams
# niger_delta.0038 = {
# 	type = activity_event
# 	title = niger_delta.0038.t
# 	desc = niger_delta.0038.desc
# 	theme = corruption
# 	override_background = { reference = RICE_background_benin_village }

# 	left_portrait = {
# 		character = scope:yam_taboo_breaker
# 		animation = shame
# 	}

# 	right_portrait = {
# 		character = root
# 		animation = stress
# 	}

# 	immediate = {
# 		if = {
# 			limit = {
# 				scope:yam_taboo_breaker = {
# 					has_character_flag = RICE_niger_delta_yam_taboo_paid_liege
# 				}
# 			}
# 			show_as_tooltip = {
# 				scope:yam_taboo_breaker = {
# 					stress_impact = {
# 						wrathful = miniscule_stress_impact_gain
# 						greedy = minor_stress_impact_gain
# 					}
# 					if = {
# 						limit = {
# 							scope:yam_taboo_breaker = { highest_held_title_tier > tier_duchy }
# 						}
# 						pay_short_term_gold = {
# 							target = scope:character_liege
# 							gold = 100
# 						}
# 					}
# 					else = {
# 						pay_short_term_gold = {
# 							target = scope:character_liege
# 							gold = 50
# 						}
# 					}
# 				}	
# 			}
# 		}
# 		else = {
# 			show_as_tooltip = {
# 				scope:yam_taboo_breaker = {
# 					stress_impact = {
# 						just = miniscule_stress_impact_gain
# 						zealous = medium_stress_impact_gain
# 					}
# 					add_piety_level = -1					
# 				}
# 				scope:character_liege = {
# 					add_opinion = {
# 						target = scope:yam_taboo_breaker
# 						modifier = RICE_niger_delta_opinion_declared_yam_crime
# 					}		
# 				}	
# 			}			
# 		}		
# 	}
	
# 	option = { # Ok
# 		name = niger_delta.0038.a
# 	}

# 	after = {
# 		if = {
# 			limit = {
# 				scope:yam_taboo_breaker = {
# 					has_character_flag = RICE_niger_delta_yam_taboo_paid_liege
# 				}
# 			}
# 			scope:yam_taboo_breaker = {
# 				remove_character_flag = RICE_niger_delta_yam_taboo_paid_liege
# 			}
# 		}
# 		if = {
# 			limit = {
# 				scope:yam_taboo_breaker = {
# 					has_character_flag = RICE_niger_delta_yam_taboo_did_not_pay_liege
# 				}
# 			}
# 			scope:yam_taboo_breaker = {
# 				remove_character_flag = RICE_niger_delta_yam_taboo_did_not_pay_liege
# 			}
# 		}
# 	}

# }








# Should people be allowed to have fun and be a little loose?
niger_delta.0040 = {
	type = activity_event
	title = niger_delta.0040.t
	desc = niger_delta.0040.desc
	theme = feast_activity
	override_background = { reference = RICE_background_benin_village }
	
	right_portrait = {
		character = root
		animation = personality_rational
	}
	
	option = { # Ok
		name = niger_delta.0040.a
		add_prestige = 25
		add_piety = -25
		stress_impact = {
			shy = minor_stress_impact_gain
			zealous = minor_stress_impact_gain
			chaste = minor_stress_impact_gain
		}
	}
	
	option = { # Ok
		name = niger_delta.0040.b
		stress_impact = {
			gregarious = minor_stress_impact_gain
			lustful = minor_stress_impact_gain
			stubborn = minor_stress_impact_gain
			arrogant = minor_stress_impact_gain
		}
	}
	
	option = { # Ok
		name = niger_delta.0040.c
		add_piety = 25
		add_character_modifier = {
			modifier = RICE_niger_delta_yam_festival_party_pooper
			years = 5
		}
		stress_impact = {
			gregarious = minor_stress_impact_gain
			lustful = minor_stress_impact_gain
			humble = minor_stress_impact_gain
		}
	}
}


# Magical herbs distributed to everyone
niger_delta.0041 = {
	type = activity_event
	title = niger_delta.0041.t
	desc = niger_delta.0041.desc
	theme = medicine
	override_background = { reference = RICE_background_yoruba_shrine }
	
	right_portrait = {
		character = root
		animation = personality_content
	}
	
	option = { # Ok
		name = niger_delta.0041.a
		add_character_modifier = {
			modifier = RICE_niger_delta_new_yam_festival_herbs
			years = 5
		}
		every_courtier_or_guest = {
			custom = all_courtiers_and_guests
			add_character_modifier = {
				modifier = RICE_niger_delta_new_yam_festival_herbs
				years = 5
			}
		}
	}
}

# Visiting ancestral shrines
niger_delta.0042 = {
	type = activity_event
	title = niger_delta.0042.t
	desc = niger_delta.0042.desc
	theme = RICE_theme_yoruba_shrine
	
	right_portrait = {
		character = root
		animation = personality_zealous
	}
	
	option = { # Ok
		name = niger_delta.0042.a
		add_piety = 20
	}

	option = { # Ok
		name = niger_delta.0042.b
		trigger = {
			OR = {
				gold >= 25
				is_ai = no
			}
		}
		remove_short_term_gold = 25
		add_piety = 40
		custom_tooltip = niger_delta.0042.b.tooltip
		add_character_flag = RICE_niger_delta_yam_extra_sacrifice
	}

}

# Yam king competition
niger_delta.0043 = {
	type = activity_event
	title = niger_delta.0043.t
	desc = {
		desc = niger_delta.0043.desc.intro
		first_valid = {
			triggered_desc = {
				trigger = {				
					has_character_flag = RICE_niger_delta_got_a_real_yam_king
				}
				desc = niger_delta.0043.desc.farmer
			}
			desc = niger_delta.0043.desc.no_farmer
		}
	}
	theme = RICE_theme_benin_village
	
	left_portrait = root
	right_portrait = {
		character = scope:farmer
		trigger = {
			exists = scope:farmer
		}
		animation = personality_compassionate
	}

	immediate = {
		# Generate random farmer occasionally
		random = {
			chance = 20
			add_character_flag = RICE_niger_delta_got_a_real_yam_king
			create_character = {
				location = root.location
				template = RICE_niger_delta_yam_king_template
				save_scope_as = farmer
			}
		}
		if = {
			limit = {
				exists = scope:farmer
			}
			scope:farmer = {
				add_character_modifier = {
					modifier = RICE_niger_delta_yam_king
				}
			}
		}
		custom_tooltip = niger_delta.0043.tooltip
		add_character_flag = RICE_niger_delta_yam_festival_king_yam		
	}
	
	option = { # Prestige and honor is enough
		name = niger_delta.0043.a
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_got_a_real_yam_king
			}
			hidden_effect = {
				scope:farmer = {
					death = {
						death_reason = death_vanished
					}
				}
			}
		}
		stress_impact = {
			generous = minor_stress_impact_gain
			humble = miniscule_stress_impact_gain
		}
	}
	
	option = { # Give them a gift
		name = niger_delta.0043.b
		trigger = {
			OR = {
				gold >= 30
				is_ai = no
			}
		}
		add_prestige = 40
		add_piety = 40
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_got_a_real_yam_king
			}
			show_as_tooltip = {
				pay_short_term_gold = {
					target = scope:farmer
					gold = 30
				}			
			}
			hidden_effect = {
				remove_short_term_gold = 30
				scope:farmer = {
					death = {
						death_reason = death_vanished
					}
				}
			}
		}
		else = {
			remove_short_term_gold = 30
		}
		stress_impact = {
			greedy = minor_stress_impact_gain
			arrogant = miniscule_stress_impact_gain
			callous = miniscule_stress_impact_gain
		}
	}
	
	option = { # Invite them to court
		name = niger_delta.0043.c
		trigger = {
			has_character_flag = RICE_niger_delta_got_a_real_yam_king
		}
		add_prestige = -100
		add_courtier = scope:farmer
		pay_short_term_gold = {
			target = scope:farmer
			gold = 30
		}
		stress_impact = {
			paranoid = minor_stress_impact_gain
			greedy = minor_stress_impact_gain
			arrogant = minor_stress_impact_gain
			callous = miniscule_stress_impact_gain
			shy = miniscule_stress_impact_gain
		}
	}

	after = {
		if = {
			limit = {
				has_character_flag = RICE_niger_delta_got_a_real_yam_king
			}
			remove_character_flag = RICE_niger_delta_got_a_real_yam_king
		}
	}

}

# Displaying abnormally large yams
niger_delta.0044 = {
	type = activity_event
	title = niger_delta.0044.t
	desc = niger_delta.0044.desc
	theme = RICE_theme_benin_village
	
	left_portrait = {
		character = root
		animation = happiness
	}

	
	option = { # Interesting
		name = niger_delta.0044.a
		add_prestige = 15
	}
	
	option = { # Praise deity
		name = niger_delta.0044.b
		add_piety = 15
		stress_impact = {
			cynical = minor_stress_impact_gain
			zealous = minor_stress_impact_loss
		}
	}

}

# What to do with the largest yam
niger_delta.0045 = {
	type = activity_event
	title = niger_delta.0045.t
	desc = niger_delta.0045.desc
	theme = RICE_theme_benin_village
	
	left_portrait = {
		character = root
		animation = personality_rational
	}

	immediate = {
		custom_tooltip = niger_delta.0045.tooltip
		add_character_flag = RICE_niger_delta_yam_festival_largest_yam
	}
	
	option = { # Keep it
		name = niger_delta.0045.a
		add_prestige = 15
		stress_impact = {
			zealous = minor_stress_impact_gain
			temperate = minor_stress_impact_gain
			humble = minor_stress_impact_gain
		}
	}
	
	option = { # Praise deity
		name = niger_delta.0045.b
		add_piety = 15
		stress_impact = {
			cynical = minor_stress_impact_gain
			gluttonous = minor_stress_impact_gain
			diligent = minor_stress_impact_gain
		}
	}

}

# A traveler accidentally arrives with strange yams
niger_delta.0046 = {
	type = activity_event
	title = niger_delta.0046.t
	desc = niger_delta.0046.desc
	theme = corruption
	override_background = { reference = RICE_background_yoruba_shrine }
	
	right_portrait = {
		character = root
		animation = stress
	}

	
	option = { # Paying the fine is enough
		name = niger_delta.0046.a
		add_piety = -30
		add_gold = { 10 40 }
		stress_impact = {
			zealous = miniscule_stress_impact_gain
		}
	}
	
	option = { # Do a sacrifice
		name = niger_delta.0046.b
		trigger = {
			OR = {
				gold >= 20
				is_ai = no
			}
		}
		remove_short_term_gold = 20
		add_piety = 40
		stress_impact = {
			cynical = minor_stress_impact_gain
			greedy = minor_stress_impact_gain
		}
	}
	
	option = { # Do nothing
		name = niger_delta.0046.c
		add_piety = -60
		stress_impact = {
			zealous = medium_stress_impact_gain
			just = minor_stress_impact_gain
			forgiving = minor_stress_impact_gain
		}
		custom_tooltip = niger_delta.0046.c.tooltip
		add_character_flag = RICE_niger_delta_yam_festival_ignored_strange_yam
	}

}

# Join in the merriment or not?
niger_delta.0047 = {
	type = activity_event
	title = niger_delta.0047.t
	desc = niger_delta.0047.desc
	theme = feast_activity
	override_background = { reference = RICE_background_benin_village }
	
	right_portrait = {
		character = root
		animation = happiness
	}

	
	option = { # Join in on the merriment
		name = niger_delta.0047.a
		if = {
			limit = {
				has_trait = shy
			}
			stress_impact = {
				shy = minor_stress_impact_gain
			}

		}
		else = {
			stress_impact = {
				base = miniscule_stress_impact_loss
				gregarious = miniscule_stress_impact_loss
				lustful = miniscule_stress_impact_loss
				content = miniscule_stress_impact_loss
			}
		}
	}
	
	option = { # Just watch
		name = niger_delta.0047.b
		add_prestige = 15
		stress_impact = {
			gregarious = minor_stress_impact_gain
			lustful = miniscule_stress_impact_gain
		}
	}

}



######################################################################################
# 
# BEADED CROWN
# 
# niger_delta.0050-niger_delta.0069
# 
######################################################################################



# Ooni receives notice of the present, and chooses how to react
niger_delta.0050 = {
	type = character_event
	title = niger_delta.0050.t
	desc = {
		desc = niger_delta.0050.desc.intro
		first_valid = {
			triggered_desc = {
				trigger = {				
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:sacrifice
					}
				}
				desc = niger_delta.0050.desc.sacrifice
			}
			triggered_desc = {
				trigger = {				
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:oduduwa_shrine
					}
				}
				desc = niger_delta.0050.desc.oduduwa_shrine
			}
			triggered_desc = {
				trigger = {				
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:sacred_vow
					}
				}
				desc = niger_delta.0050.desc.sacred_vow
			}
			triggered_desc = {
				trigger = {				
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:art
					}
				}
				desc = niger_delta.0050.desc.art
			}
			triggered_desc = {
				trigger = {				
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:land
					}
				}
				desc = niger_delta.0050.desc.land
			}
			triggered_desc = {
				trigger = {				
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:low_concubine
					}
				}
				desc = niger_delta.0050.desc.low_concubine
			}
			# triggered_desc = {
			# 	trigger = {				
			# 		scope:scoped_ruler = {
			# 			var:RICE_ooni_gift_type = flag:high_concubine
			# 		}
			# 	}
			# 	desc = niger_delta.0050.desc.high_concubine
			# }
			triggered_desc = {
				trigger = {				
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:no_gift
					}
				}
				desc = niger_delta.0050.desc.no_gift
			}
		}
	}
	theme = dynasty

	left_portrait = root
	lower_left_portrait = {
		character = scope:other_character
		trigger = { exists = scope:other_character }
	}
	lower_right_portrait = scope:scoped_ruler

	immediate = {
		if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:sacrifice
				}
			}
			scope:scoped_ruler = {
				remove_short_term_gold = 50
			}
		}
		else_if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:oduduwa_shrine
				}
			}
			scope:scoped_ruler = {
				remove_short_term_gold = 100
				add_piety = 200
			}
			scope:ooni = {
				add_piety = 200
			}
		}
		else_if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:sacred_vow
				}
			}
			scope:scoped_ruler = {
				add_prestige = -100
			}
		}
		else_if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:art
				}
			}
			scope:scoped_ruler = {
				remove_short_term_gold = 100
				add_prestige = 200
			}
			scope:ooni = {
				add_prestige = 200
			}
			
		}
		else_if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:land
				}
			}
			random_close_family_member = {
				limit = {
					is_landed = no
					NOT = { is_primary_heir_of = title:d_ooni_of_ife.holder }
				}
				save_scope_as = other_character
			}
			scope:scoped_ruler = {
				random_held_title = {
					limit = {
						tier = tier_county
						NOT = { this = root.capital_county }
					}
					save_scope_as = county
				}
			}
		}
		else_if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:low_concubine
				}
			}
			scope:scoped_ruler = {
				remove_short_term_gold = 100
				add_prestige = 100
				add_piety = 100
			}
			create_character = {
				employer = scope:ooni
				template = RICE_niger_delta_ooni_concubine_template
				save_scope_as = other_character
			}	
		}
		else_if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:no_gift
				}
			}
			scope:scoped_ruler = {
				add_prestige = -100
				add_piety = -100
			}
		}
	}

	# Accept the gift
	option = {
		name = niger_delta.0050.a
		trigger = {
			NOT = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:no_gift
				}
			}
		}
		add_opinion = {
			target = scope:scoped_ruler
			modifier = RICE_niger_delta_opinion_good_ooni_gift
		}
		if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:sacred_vow
				}
			}
			scope:ooni = {					
				add_hook = {
					target = scope:scoped_ruler
					type = loyalty_hook
				}
			}
		}
		else_if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:land
				}
			}
			create_title_and_vassal_change = {
				type = granted
				save_scope_as = change
			}
			scope:county = {
				change_title_holder = {
					holder = scope:other_character
					change = scope:change
				}
			}
			resolve_title_and_vassal_change = scope:change
		}
		else_if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:low_concubine
				}
			}
			scope:ooni = {
				make_concubine = scope:other_character	
			}
		}
		# It happens in Ife
		# title:b_ile-ife.title_province = {	
		# 	spawn_activity = {
		# 		owner = scope:scoped_ruler
		# 		type = activity_niger_delta_beaded_crown
		# 	}	
		# }
		scope:scoped_ruler = {			
			if = {
				limit = {
					has_character_modifier = RICE_niger_delta_uncrowned
				}
				remove_character_modifier = RICE_niger_delta_uncrowned
			}
			# Should only take a month at most
			add_character_flag = {
				flag = planning_an_activity
				days = 30				
			}
			trigger_event = niger_delta.0051
			trigger_event = {
				id = niger_delta.0052
				days = { 10 20 }
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				add = 10
				has_trait = just
			}
			modifier = {
				add = 10
				has_trait = content
			}
			modifier = {
				add = 10
				has_trait = generous
			}
		}
	}

	# Accept the gift reluctantly
	option = {
		name = niger_delta.0050.b
		trigger = {
			NOT = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:no_gift
				}
			}
		}
		add_opinion = {
			target = scope:scoped_ruler
			modifier = RICE_niger_delta_opinion_bad_ooni_gift
		}
		# It happens in Ife
		# title:b_ile-ife.title_province = {	
		# 	spawn_activity = {
		# 		owner = scope:scoped_ruler
		# 		type = activity_niger_delta_beaded_crown
		# 	}	
		# }
		stress_impact = {
			humble = minor_stress_impact_gain
			greedy = minor_stress_impact_gain
			trusting = minor_stress_impact_gain
		}
		scope:scoped_ruler = {			
			if = {
				limit = {
					has_character_modifier = RICE_niger_delta_uncrowned
				}
				remove_character_modifier = RICE_niger_delta_uncrowned
			}
			add_character_modifier = {
				modifier = RICE_niger_delta_ooni_scorn
				years = 10
			}
			# Should only take a month at most
			add_character_flag = {
				flag = planning_an_activity
				days = 30				
			}
			trigger_event = niger_delta.0051
			trigger_event = {
				id = niger_delta.0052
				days = { 10 20 }
			}
		}
		if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:sacred_vow
				}
			}
			scope:ooni = {					
				add_hook = {
					target = scope:scoped_ruler
					type = loyalty_hook
				}
			}
		}
		else_if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:land
				}
			}
			create_title_and_vassal_change = {
				type = granted
				save_scope_as = change
			}
			scope:county = {
				change_title_holder = {
					holder = scope:other_character
					change = scope:change
				}
			}
			resolve_title_and_vassal_change = scope:change
		}
		else_if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:low_concubine
				}
			}
			scope:ooni = {
				make_concubine = scope:other_character	
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 5
				has_trait = arbitrary
			}
			modifier = {
				add = 5
				has_trait = lunatic
			}
			modifier = {
				add = 20
				has_relation_rival = scope:scoped_ruler
			}
			modifier = {
				add = 30				
				has_relation_nemesis = scope:scoped_ruler
			}
			modifier = {
				add = 25
				opinion = {
					target = scope:scoped_ruler
					value <= low_negative_opinion
				}
			}
			modifier = {
				add = 40
				opinion = {
					target = scope:scoped_ruler
					value <= medium_negative_opinion
				}
			}
		}
	}

	# Accept the no gift option
	option = {
		name = niger_delta.0050.c
		trigger = {
			scope:scoped_ruler = {
				var:RICE_ooni_gift_type = flag:no_gift
			}
		}
		add_opinion = {
			target = scope:scoped_ruler
			modifier = RICE_niger_delta_opinion_bad_ooni_gift
		}
		scope:scoped_ruler = {			
			if = {
				limit = {
					has_character_modifier = RICE_niger_delta_uncrowned
				}
				remove_character_modifier = RICE_niger_delta_uncrowned
			}
			add_character_modifier = {
				modifier = RICE_niger_delta_ooni_scorn
				years = 10
			}
		}
		# It happens in Ife
		# title:b_ile-ife.title_province = {	
		# 	spawn_activity = {
		# 		owner = scope:scoped_ruler
		# 		type = activity_niger_delta_beaded_crown
		# 	}	
		# }
		stress_impact = {
			base = medium_stress_impact_gain
			arrogant = minor_stress_impact_gain
			zealous = minor_stress_impact_gain
			wrathful = minor_stress_impact_gain
			vengeful = minor_stress_impact_gain
			ambitious = minor_stress_impact_gain
		}	
		scope:scoped_ruler = {	
			# Should only take a month at most
			add_character_flag = {
				flag = planning_an_activity
				days = 30				
			}
			trigger_event = niger_delta.0051
			trigger_event = {
				id = niger_delta.0052
				days = { 10 20 }
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				add = 10
				has_trait = forgiving
			}
			modifier = {
				add = 10
				has_trait = content
			}
			modifier = {
				add = 10
				has_trait = generous
			}
			modifier = {
				add = 10
				has_trait = trusting
			}
			modifier = {
				add = 20
				has_relation_friend = scope:scoped_ruler
			}
			modifier = {
				add = 30
				has_relation_best_friend = scope:scoped_ruler
			}
			modifier = {
				add = 20
				has_relation_lover = scope:scoped_ruler
			}
			modifier = {
				add = 30
				has_relation_soulmate = scope:scoped_ruler
			}
			modifier = {
				opinion = {
					target = scope:scoped_ruler
					value >= medium_positive_opinion
				}
			}
		}
	}

	# Reject the gift
	option = {
		name = niger_delta.0050.d
		#trigger = {
		#	var:RICE_ooni_gift_type = flag:no_gift
		#}
		stress_impact = {
			base = medium_stress_impact_gain
			humble = minor_stress_impact_gain
			calm = minor_stress_impact_gain
			forgiving = minor_stress_impact_gain
			compassionate = minor_stress_impact_gain
			generous = minor_stress_impact_gain
		}
		add_opinion = {
			target = scope:scoped_ruler
			modifier = RICE_niger_delta_opinion_insulting_gift
		}
		scope:scoped_ruler = {
			if = {
				limit = {
					var:RICE_ooni_gift_type = flag:no_gift
				}
				add_character_modifier = {
					modifier = RICE_niger_delta_ooni_denounced_permanent
				}
			}
			else = {
				add_character_modifier = {
					modifier = RICE_niger_delta_ooni_denounced
					years = 10
				}
			}
			trigger_event = niger_delta.0053
		}
		if = {
			limit = {
				scope:scoped_ruler = {
					var:RICE_ooni_gift_type = flag:low_concubine
				}
			}
			scope:other_character = {
				death = {
					death_reason = death_vanished
				}
			}	
		}
		ai_chance = {
			base = 10
			# AI will not reject the gift if they have a decent opinion of you
			modifier = {
				factor = 0
				NOT = {
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:no_gift
					}
				}
				OR = {
					opinion = {
						target = scope:scoped_ruler
						value >= low_negative_opinion
					}
					has_relation_friend = scope:scoped_ruler
					has_relation_best_friend = scope:scoped_ruler
					has_relation_lover = scope:scoped_ruler
					has_relation_soulmate = scope:scoped_ruler
				}
			}
			modifier = {
				add = 10
				has_trait = arbitrary
			}
			modifier = {
				add = 10
				has_trait = arrogant
			}
			modifier = {
				add = 20
				has_relation_rival = scope:scoped_ruler
			}
			modifier = {
				add = 30				
				has_relation_nemesis = scope:scoped_ruler
			}
			modifier = {
				add = 10
				opinion = {
					target = scope:scoped_ruler
					value <= low_negative_opinion
				}
			}
			modifier = {
				add = 20
				opinion = {
					target = scope:scoped_ruler
					value <= medium_negative_opinion
				}
			}
		}
	}

}



# Ooni accepts the gift
niger_delta.0051 = {
	type = character_event
	title = niger_delta.0051.t
	desc = {
		desc = niger_delta.0051.desc
		triggered_desc = {
			trigger = {
				scope:ooni = {
					has_opinion_modifier = {
						modifier = RICE_niger_delta_opinion_bad_ooni_gift
						target = scope:scoped_ruler
					}
				}
			}
			desc = niger_delta.0051.desc.bad_gift
		}
	}
	theme = realm
	
	left_portrait = {
		character = scope:ooni
		animation = personality_content
	}
	
	right_portrait = {
		character = scope:scoped_ruler
		animation = throne_room_bow_1
	}

	lower_center_portrait = {
		character = scope:other_character
		trigger = { exists = scope:other_character }
	}

	immediate = {

		add_character_flag = RICE_niger_delta_received_beaded_crown

		show_as_tooltip = {

			# It happens in Ife
			# title:b_ile-ife.title_province = {	
			# 	spawn_activity = {
			# 		owner = scope:scoped_ruler
			# 		type = activity_niger_delta_beaded_crown
			# 	}	
			# }

			remove_character_modifier = RICE_niger_delta_uncrowned

			if = {
				limit = {
					scope:ooni = {
						has_opinion_modifier = {
							modifier = RICE_niger_delta_opinion_bad_ooni_gift
							target = scope:scoped_ruler
						}
					}
				}
				scope:ooni = {
					add_opinion = {
						target = scope:scoped_ruler
						modifier = RICE_niger_delta_opinion_bad_ooni_gift
					}
				}
			}
			else = {
				scope:ooni = {
					add_opinion = {
						target = scope:scoped_ruler
						modifier = RICE_niger_delta_opinion_good_ooni_gift
					}
				}
			}

			if = {
				limit = {
					has_character_modifier = RICE_niger_delta_ooni_scorn
				}				
				add_character_modifier = {
					modifier = RICE_niger_delta_ooni_scorn
					years = 10
				}
			}


			if = {
				limit = {
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:sacrifice
					}
				}
				scope:scoped_ruler = {
					remove_short_term_gold = 50
				}
			}
			else_if = {
				limit = {
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:oduduwa_shrine
					}
				}
				scope:scoped_ruler = {
					remove_short_term_gold = 100
					add_piety = 200
				}
				scope:ooni = {
					add_piety = 200
				}
			}
			else_if = {
				limit = {
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:sacred_vow
					}
				}
				scope:scoped_ruler = {
					add_prestige = -100
				}
				scope:ooni = {					
					add_hook = {
						target = scope:scoped_ruler
						type = loyalty_hook
					}
				}
			}
			else_if = {
				limit = {
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:art
					}
				}
				scope:scoped_ruler = {
					remove_short_term_gold = 100
					add_prestige = 200
				}
				scope:ooni = {
					add_prestige = 200
				}
				
			}
			else_if = {
				limit = {
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:land
					}
				}
				create_title_and_vassal_change = {
					type = granted
					save_scope_as = change
				}
				scope:county = {
					change_title_holder = {
						holder = scope:other_character
						change = scope:change
					}
				}
				resolve_title_and_vassal_change = scope:change
			}
			else_if = {
				limit = {
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:low_concubine
					}
				}
				scope:ooni = {
					make_concubine = scope:other_character	
				}		
			}
			else_if = {
				limit = {
					scope:scoped_ruler = {
						var:RICE_ooni_gift_type = flag:no_gift
					}
				}
				scope:scoped_ruler = {
					add_prestige = -100
					add_piety = -100
				}
			}
		}

	}
	
	option = { # Ok
		name = niger_delta.0051.a
		# trigger_event = {
		# 	id = niger_delta.0052
		# 	days = { 10 20 }
		# } 
		if = {
			limit = { has_variable = RICE_ooni_gift_type }
			remove_variable = RICE_ooni_gift_type
		}
	}

}


# Returning from Ife
niger_delta.0052 = {
	type = character_event
	title = niger_delta.0052.t
	desc = niger_delta.0052.desc
	theme = realm
	
	right_portrait = {
		character = root
		animation = personality_content
	}
	
	option = { # Ok
		name = niger_delta.0052.a
		#add_prestige = 50
		#add_piety = 50
	}

	after = {		
		RICE_remove_planned_activity_flag_effect = yes
	}

}

# Denounced by the Ooni
niger_delta.0053 = {
	type = character_event
	title = niger_delta.0053.t
	desc = {
		desc = niger_delta.0053.desc
		triggered_desc = {
			trigger = {
				var:RICE_ooni_gift_type = flag:no_gift
			}
			desc = niger_delta.0053.desc.no_gift
		}
	}
	theme = realm
	
	left_portrait = {
		character = scope:ooni
		animation = rage
	}
	
	right_portrait = {
		character = root
		animation = shame
	}

	immediate = {
		show_as_tooltip = {
			scope:ooni = {
				add_opinion = {
					target = scope:scoped_ruler
					modifier = RICE_niger_delta_opinion_insulting_gift
				}
			}
			if = {
				limit = {
					has_character_modifier = RICE_niger_delta_ooni_denounced_permanent
				}		
				add_character_modifier = {
					modifier = RICE_niger_delta_ooni_denounced_permanent
				}				
			}	
			else = {
				add_character_modifier = {
					modifier = RICE_niger_delta_ooni_denounced
					years = 10
				}	
			}		
		}
	}
	
	option = { # Ok
		name = niger_delta.0053.a
		if = {
			limit = {
				var:RICE_ooni_gift_type = flag:no_gift
			}
			add_prestige_level = -1
			add_piety_level = -1
			#add_prestige = -1000
			#add_piety = -1000
		}
		if = {
			limit = { has_variable = RICE_ooni_gift_type }
			remove_variable = RICE_ooni_gift_type
		}
	}

}




######################################################################################
# 
# OLOJO FESTIVAL
# 
# niger_delta.0070-niger_delta.0099
# 
######################################################################################


# Olojo festival start
niger_delta.0070 = {
	type = activity_event
	title = niger_delta.0070.t
	desc = {
		desc = niger_delta.0070.desc.intro
		first_valid = {
			triggered_desc = {
				trigger = {
					has_title = title:d_ooni_of_ife
				}
				desc = niger_delta.0070.desc.ooni
			}
			desc = niger_delta.0070.desc.not_ooni
		}
	}
	theme = RICE_theme_yoruba_shrine
	
	right_portrait = {
		character = root
		animation = personality_rational
	}

	immediate = {		
		title:b_ile-ife = { #For loc.
			save_scope_as = ife
		}
		title:d_ooni_of_ife = {
			save_scope_as = ooniship_of_ife
		}
		title:d_ooni_of_ife.holder = {
			save_scope_as = ooni
			add_character_flag = RICE_is_ooni
		}
		religion:west_african_orisha_religion = { save_scope_as = yoruba } 
	}
	
	option = { # Ok
		name = niger_delta.0070.a
		trigger_event = {
			id = niger_delta.0071
			days = 7
		} 
	}
}

# Ooni does purification ceremonies
niger_delta.0071 = {
	type = activity_event
	title = niger_delta.0071.t
	desc = {
		desc = niger_delta.0071.desc.intro
		first_valid = {
			triggered_desc = {
				trigger = {
					has_character_flag = RICE_is_ooni
				}
				desc = niger_delta.0071.desc.ooni
			}
			desc = niger_delta.0071.desc.not_ooni
		}
		desc = niger_delta.0071.desc.conclusion
	}
	theme = RICE_theme_yoruba_shrine
	
	left_portrait = root
	right_portrait = {
		trigger = {
			NOT = { has_character_flag = RICE_is_ooni }
		}
		character = scope:ooni
		animation = personality_zealous
	}
	
	option = { # Ok
		name = niger_delta.0071.a
		if = {
			limit = {
				has_character_flag = RICE_is_ooni
			}
			add_piety = { 1 25 }
		}
		trigger_event = {
			id = niger_delta.0072
			days = 7
		} 
	}
}


# Osogun finds the dog and arrives at Ooni's palace
niger_delta.0072 = {
	type = activity_event
	title = niger_delta.0072.t
	desc = {
		desc = niger_delta.0072.desc.intro
		first_valid = {
			triggered_desc = {
				trigger = {
					has_character_flag = RICE_is_ooni
				}
				desc = niger_delta.0072.desc.ooni
			}
			desc = niger_delta.0072.desc.not_ooni
		}
	}
	theme = RICE_theme_yoruba_shrine
	
	right_portrait = {
		character = root
		animation = personality_honorable
	}
	
	option = { # Ok
		name = niger_delta.0072.a
		if = {
			limit = {
				has_character_flag = RICE_is_ooni
			}
			add_piety = { 1 25 }
		}
		trigger_event = {
			id = niger_delta.0073
			days = { 3 6 }
		} 
	}
}




# Osogun sacrifices the dog
niger_delta.0073 = {
	type = activity_event
	title = niger_delta.0073.t
	desc = niger_delta.0073.desc
	theme = RICE_theme_yoruba_shrine
	
	right_portrait = {
		character = root
		animation = personality_zealous
	}

	immediate = {
		play_music_cue = mx_cue_banquet
	}
	
	option = { # Ok
		name = niger_delta.0073.a
		trigger_event = {
			id = niger_delta.0074
			days = { 3 6 }
		} 
	}
}


# Second day of Olojo
niger_delta.0074 = {
	type = activity_event
	title = niger_delta.0074.t
	desc = niger_delta.0074.desc
	theme = RICE_theme_yoruba_shrine
	
	right_portrait = {
		character = root
		animation = personality_zealous
	}
	
	option = { # Ok
		name = niger_delta.0074.a
		trigger_event = {
			id = niger_delta.0075
			days = { 3 6 }
		} 
	}
}

# Ooni emerges from the palace
niger_delta.0075 = {
	type = activity_event
	title = niger_delta.0075.t
	desc = {
		desc = niger_delta.0075.desc.intro
		first_valid = {
			triggered_desc = {
				trigger = {
					has_character_flag = RICE_is_ooni
				}
				desc = niger_delta.0075.desc.ooni
			}
			desc = niger_delta.0075.desc.not_ooni
		}
	}
	theme = RICE_theme_yoruba_shrine

	left_portrait = {
		trigger = {
			NOT = { has_character_flag = RICE_is_ooni }
		}
		character = scope:ooni
		animation = personality_honorable
	}	
	right_portrait = {
		character = root
		triggered_animation = {
			trigger = { has_character_flag = RICE_is_ooni }
			animation = personality_content
		}
		triggered_animation = {
			trigger = { NOT = { has_character_flag = RICE_is_ooni } }
			animation = throne_room_bow_2
		}		
	}
	
	option = { # Ooni option
		name = niger_delta.0075.a
		trigger = {
			has_character_flag = RICE_is_ooni
		}
		add_piety = { 1 25 }
		add_prestige = { 1 25 }
	}
	
	option = { # Pray for good health
		name = niger_delta.0075.b
		trigger = {
			NOT = { has_character_flag = RICE_is_ooni }
		}
		stress_impact = {
			lazy = miniscule_stress_impact_gain
		}
		random = {
			chance = 33
			send_interface_toast = {
				left_icon = ROOT
				title = niger_delta.0075.health
				scope:activity = {
					add_activity_log_entry = {
						key = RICE_niger_delta_new_yam_festival_ooni_blessing_log
						tags = { good }
						# this line below adds the entry to the Effects section of the conclusion UI
						show_in_conclusion = yes
						character = scope:host
						scope:host = {
							add_character_modifier = {
								modifier = RICE_niger_delta_olojo_good_health
								years = 5
							}
						}
					}
				}
			}
		}
	}
	
	option = { # Pray for good fortune
		name = niger_delta.0075.c
		trigger = {
			NOT = { has_character_flag = RICE_is_ooni }
		}
		stress_impact = {
			content = miniscule_stress_impact_gain
		}
		random = {
			chance = 33
			send_interface_toast = {
				left_icon = ROOT
				title = niger_delta.0075.fortune
				scope:activity = {
					add_activity_log_entry = {
						key = RICE_niger_delta_new_yam_festival_ooni_blessing_log
						tags = { good }
						# this line below adds the entry to the Effects section of the conclusion UI
						show_in_conclusion = yes
						character = scope:host
						scope:host = {
							add_character_modifier = {
								modifier = RICE_niger_delta_olojo_good_fortune
								years = 5
							}
						}
					}
				}
			}
		}
	}
	
	option = { # Pray for misfortune for enemies
		name = niger_delta.0075.d
		trigger = {
			NOT = { has_character_flag = RICE_is_ooni }
		}
		stress_impact = {
			forgiving = miniscule_stress_impact_gain
			compassionate = miniscule_stress_impact_gain
		}
		random = {
			chance = 33
			send_interface_toast = {
				left_icon = ROOT
				title = niger_delta.0075.enemies
				scope:activity = {
					add_activity_log_entry = {
						key = RICE_niger_delta_new_yam_festival_ooni_blessing_log
						tags = { good }
						# this line below adds the entry to the Effects section of the conclusion UI
						show_in_conclusion = yes
						character = scope:host
						scope:host = {
							add_character_modifier = {
								modifier = RICE_niger_delta_olojo_good_enemies
								years = 5
							}
						}
					}
				}
			}
		}
	}
	
	option = { # Don't need nothing
		name = niger_delta.0075.e
		trigger = {
			NOT = { has_character_flag = RICE_is_ooni }
		}
		stress_impact = {
			zealous = miniscule_stress_impact_gain
			arrogant = miniscule_stress_impact_gain
			ambitious = miniscule_stress_impact_gain
		}
		add_prestige = 50
	}


	after = {
		trigger_event = {
			id = niger_delta.0076
			days = { 3 6 }
		} 
	}

}

# Ooni visits various shrines in town
niger_delta.0076 = {
	type = activity_event
	title = niger_delta.0076.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_character_flag = RICE_is_ooni
				}
				desc = niger_delta.0076.desc.ooni
			}
			desc = niger_delta.0076.desc.not_ooni
		}
	}
	theme = RICE_theme_yoruba_shrine

	left_portrait = {
		character = root
		animation = personality_honorable
	}
	
	option = { # ok
		name = niger_delta.0076.a
		if = {
			limit = {
				has_character_flag = RICE_is_ooni
			}
			add_piety = { 1 25 }
			add_prestige = { 1 25 }
		}
		trigger_event = {
			id = niger_delta.0077
			days = { 3 6 }
		} 
	}


}


# Last part of the Olojo - Ooni is approached by people bearing gifts
niger_delta.0077 = {
	type = activity_event
	title = niger_delta.0077.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_character_flag = RICE_is_ooni
				}
				desc = niger_delta.0077.desc.ooni
			}
			desc = niger_delta.0077.desc.not_ooni
		}
	}
	theme = RICE_theme_yoruba_shrine

	left_portrait = {
		trigger = {
			NOT = { has_character_flag = RICE_is_ooni }
		}
		character = scope:ooni
		animation = personality_honorable
	}	
	right_portrait = {
		character = root
		triggered_animation = {
			trigger = { has_character_flag = RICE_is_ooni }
			animation = personality_zealous
		}
		triggered_animation = {
			trigger = { NOT = { has_character_flag = RICE_is_ooni } }
			animation = throne_room_bow_2
		}		
	}
	
	option = { # Ooni option
		name = niger_delta.0077.a
		trigger = {
			has_character_flag = RICE_is_ooni
		}
		#add_piety = { 1 25 }
		#add_prestige = { 1 25 }
		add_gold = { 1 100 }
	}
	
	option = { # Modest gift
		name = niger_delta.0077.b
		trigger = {
			NOT = { has_character_flag = RICE_is_ooni }
			OR = {
				gold >= 25
				is_ai = no
			}
		}
		remove_short_term_gold = 25
		add_piety = 50
		stress_impact = {
			cynical = miniscule_stress_impact_gain
			greedy = miniscule_stress_impact_gain
		}
	}
	
	option = { # Great gift
		name = niger_delta.0077.c
		trigger = {
			NOT = { has_character_flag = RICE_is_ooni }
			OR = {
				gold >= 50
				is_ai = no
			}
		}
		remove_short_term_gold = 50
		add_piety = 100
		stress_impact = {
			cynical = minor_stress_impact_gain
			greedy = minor_stress_impact_gain
			callous = miniscule_stress_impact_gain
			arrogant = miniscule_stress_impact_gain
		}
	}
	
	option = { # No gift
		name = niger_delta.0077.d
		trigger = {
			NOT = { has_character_flag = RICE_is_ooni }
		}
		stress_impact = {
			zealous = minor_stress_impact_gain
			ambitious = miniscule_stress_impact_gain
			gregarious = miniscule_stress_impact_gain
			generous = miniscule_stress_impact_gain
		}
	}

	after = {
		RICE_niger_delta_olojo_festival_ooni_received_gifts_log_entry_effect = yes
		trigger_event = {
			id = niger_delta.0078
			days = { 3 6 }
		}
	}
}


# Olojo concludes
niger_delta.0078 = {
	type = activity_event
	title = niger_delta.0078.t
	#desc = {
		desc = niger_delta.0078.desc
	#	triggered_desc = {
	#		trigger = {
	#			has_character_flag = RICE_is_ooni
	#		}
	#		desc = niger_delta.0078.desc.ooni
	#	}
	#}
	theme = RICE_theme_yoruba_shrine

	left_portrait = {
		character = root
		animation = happiness
	}
	
	option = { # Ok
		name = niger_delta.0078.a
		if = {
			limit = {
				has_character_flag = RICE_is_ooni
			}
			add_piety = 100
			add_prestige = 100
			random_list = {
				desc = niger_delta.0078.ooni.tooltip
				55 = {
					show_chance = no
					desc = niger_delta.0078.ooni.tooltip.1
					add_character_modifier = {
						modifier = RICE_niger_delta_olojo_ooni_renewed_oaths_1
						years = 5
					}
				}
				30 = {
					show_chance = no
					desc = niger_delta.0078.ooni.tooltip.2
					add_character_modifier = {
						modifier = RICE_niger_delta_olojo_ooni_renewed_oaths_2
						years = 5
					}
				}
				15 = {
					show_chance = no
					desc = niger_delta.0078.ooni.tooltip.3
					add_character_modifier = {
						modifier = RICE_niger_delta_olojo_ooni_renewed_oaths_3
						years = 5
					}
				}
			}
		}
		else = {
			add_piety = 50
			add_character_modifier = {
				modifier = RICE_niger_delta_attended_olojo_festival
				years = 5
			}
		}
		hidden_effect = {
			scope:activity = {
				every_attending_character = {
					limit = { NOT = { this = scope:host } }
					custom = EVERY_ACTIVITY_PARTICIPANT_EFFECT
					add_piety = 25			
					add_character_modifier = {
						modifier = RICE_niger_delta_attended_olojo_festival
						years = 5
					}
				}
			}			
		}
	}

	after = {
		if = {
			limit = {
				title:d_ooni_of_ife.holder = {
					has_character_flag = RICE_is_ooni
				}
			}
			title:d_ooni_of_ife.holder = {
				remove_character_flag = RICE_is_ooni
			}
		}
		RICE_niger_delta_olojo_festival_completed_log_entry_effect = yes
		scope:activity = {
			hidden_effect = { skip_activity_phase = yes }
		}
	}

}




######################################################################################
# 
# FLAVOR EVENTS
# 
# niger_delta.0100-niger_delta.0149 reserved
# 
######################################################################################


# Elephant was recently killed by hunters - share the elephant meat or not?
# Based on a legend from Benin
niger_delta.0100 = {
	type = character_event
	title = niger_delta.0100.t
	desc = niger_delta.0100.desc
	theme = RICE_theme_dahomey_hills
	
	left_portrait = {
		character = root
		animation = personality_rational
	}
	
	trigger = {
		any_held_title = {
			tier = tier_county
			any_county_province = {
				OR = {
					geographical_region = world_africa_west	
					geographical_region = world_africa_east
				}
			}
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = diligent
		}
		modifier = {
			add = -0.2
			has_trait = lazy
		}
		modifier = {
			add = 0.2
			has_trait = humble
		}
		modifier = {
			add = -0.2
			has_trait = arrogant
		}
		modifier = {
			add = 0.2
			has_trait = gluttonous
		}
		modifier = {
			add = -0.2
			has_trait = temperate
		}
	}

	immediate = {
		random_held_title = {
			limit = {
				tier = tier_county
				any_county_province = {
					OR = {
						geographical_region = world_africa_west	
						geographical_region = world_africa_east
					}		
				}
			}	
			save_scope_as = county
		}
	}

	option = { # give it to everyone
		name = niger_delta.0100.a
		scope:county = {
			add_county_modifier = {
				modifier = RICE_niger_delta_shared_elephant_meat
				years = 10
			}
		}
		stress_impact = {
			arrogant = miniscule_stress_impact_gain
			greedy = miniscule_stress_impact_gain
			callous = miniscule_stress_impact_gain
			gluttonous = minor_stress_impact_gain
		}
	}

	option = { # keep it for myself
		name = niger_delta.0100.b
		add_prestige = 50
		if = {
			limit = {
				has_trait = generous
			}
			stress_impact = {
				generous = minor_stress_impact_gain
			}
		}
		else = {
			stress_impact = {
				base = minor_stress_impact_loss
				gluttonous = minor_stress_impact_loss
			}
		}
	}
}


# Eating pounded yams
niger_delta.0101 = {
	type = character_event
	title = niger_delta.0101.t
	desc = niger_delta.0101.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
		animation = happiness
	}
	
	
	trigger = {
		culture = {
			OR = {
				has_cultural_pillar = heritage_akan
				has_cultural_pillar = heritage_yoruba
			}
		}		
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = gluttonous
		}
		modifier = {
			add = -0.2
			has_trait = temperate
		}
		modifier = {
			add = 0.2
			has_trait = humble
		}
		modifier = {
			add = -0.2
			has_trait = arrogant
		}
		modifier = {
			add = 0.2
			has_trait = patient
		}
		modifier = {
			add = -0.2
			has_trait = impatient
		}
	}

	option = { # give it to everyone
		name = niger_delta.0101.a
		stress_impact = {
			base = miniscule_stress_impact_loss
			gluttonous = miniscule_stress_impact_loss
		}
	}
}


# Ọmọge omi / Daughter of the water
niger_delta.0102 = {
	type = character_event
	title = niger_delta.0102.t
	desc = niger_delta.0102.desc
	theme = realm
	
	left_portrait = root
	
	right_portrait = {
		character = scope:courtier
		animation = flirtation_left
	}
	
	
	trigger = {
		religion = { rice_religion_trigger_west_african_orisha_religion = yes }
		any_courtier = {
			is_available_ai_adult = yes
			is_female = no
			NOR = {
				has_trait = chaste
				has_trait = diligent
			}
			NOT = { has_sexuality = homosexual }
			NOT = { has_sexuality = asexual }
			religion = { rice_religion_trigger_west_african_orisha_religion = yes }
		}		
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = diligent
		}
		modifier = {
			add = -0.2
			has_trait = lazy
		}
		modifier = {
			add = 0.2
			has_trait = ambitious
		}
		modifier = {
			add = -0.2
			has_trait = sadistic
		}
		modifier = {
			add = 0.2
			has_trait = just
		}
		modifier = {
			add = -0.2
			has_trait = arbitrary
		}
	}

	immediate = {
		random_courtier = {
			limit = {
				is_available_ai_adult = yes
				is_female = no
				NOR = {
					has_trait = chaste
					has_trait = diligent
				}
				NOT = { has_sexuality = homosexual }
				NOT = { has_sexuality = asexual }
				religion = { rice_religion_trigger_west_african_orisha_religion = yes }
			}
			save_scope_as = courtier
		}
	}

	option = { # Booo
		name = niger_delta.0102.a
		scope:courtier = {
			add_opinion = {
				target = root
				modifier = RICE_niger_delta_opinion_chastised_me
			}
			reverse_add_opinion = {
				target = root
				modifier = RICE_niger_delta_opinion_didnt_do_job
			}		
		}
		stress_impact = {
			lustful = miniscule_stress_impact_gain
			forgiving = miniscule_stress_impact_gain
			content = miniscule_stress_impact_gain
			lazy = miniscule_stress_impact_gain
		}
	}

	option = { # Who cares
		name = niger_delta.0102.b
		add_prestige = -25
		scope:courtier = {
			add_opinion = {
				target = root
				modifier = RICE_niger_delta_opinion_fun_chat
			}
			reverse_add_opinion = {
				target = root
				modifier = RICE_niger_delta_opinion_fun_chat
			}		
		}
		stress_impact = {
			chaste = miniscule_stress_impact_gain
			diligent = minor_stress_impact_gain
			ambitious = miniscule_stress_impact_gain
		}
	}
}


# Prominent blacksmith claims to have met a water spirit
niger_delta.0103 = {
	type = character_event
	title = niger_delta.0103.t
	desc = niger_delta.0103.desc
	theme = RICE_theme_benin_village
	
	right_portrait = {
		character = root
		animation = personality_rational
	}
	
	
	trigger = {
		OR = {
			religion = { rice_religion_trigger_odinala_religion = yes }
			religion = { rice_religion_trigger_west_african_orisha_religion = yes }
			#religion = { rice_religion_trigger_ijaw_religion = yes }
		}	
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = gregarious
		}
		modifier = {
			add = -0.2
			has_trait = shy
		}
		modifier = {
			add = 0.2
			has_trait = humble
		}
		modifier = {
			add = -0.2
			has_trait = arrogant
		}
		modifier = {
			add = 0.2
			has_trait = zealous
		}
		modifier = {
			add = -0.2
			has_trait = cynical
		}
	}

	option = { # He's a fool
		name = niger_delta.0103.a
		add_piety = 20
		stress_impact = {
			humble = miniscule_stress_impact_gain
		}
	}

	option = { # He's probably making it up
		name = niger_delta.0103.b
		add_prestige = 20
		stress_impact = {
			zealous = miniscule_stress_impact_gain
		}
	}
}


# Woman collecting water for water pots at Yoruba shrine
niger_delta.0104 = {
	type = character_event
	title = niger_delta.0104.t
	desc = niger_delta.0104.desc
	theme = RICE_theme_benin_village
	
	right_portrait = root
	
	
	trigger = {
		religion = { rice_religion_trigger_west_african_orisha_religion = yes }	
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = gregarious
		}
		modifier = {
			add = -0.2
			has_trait = shy
		}
		modifier = {
			add = 0.2
			has_trait = humble
		}
		modifier = {
			add = -0.2
			has_trait = arrogant
		}
		modifier = {
			add = 0.2
			has_trait = compassionate
		}
		modifier = {
			add = -0.2
			has_trait = callous
		}
	}

	option = { # Ok
		name = niger_delta.0104.a
		add_piety = 20
	}
}


# Wooden decor, Yoruba style?
niger_delta.0105 = {
	type = character_event
	title = niger_delta.0105.t
	desc = niger_delta.0105.desc
	theme = stewardship_domain_focus
	override_background = { reference = RICE_background_yoruba_shrine }
	
	right_portrait = {
		character = root
		animation = personality_coward
	}
	
	
	trigger = {
		culture = {
			has_cultural_pillar = heritage_yoruba
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = diligent
		}
		modifier = {
			add = -0.2
			has_trait = lazy
		}
		modifier = {
			add = 0.2
			has_trait = arrogant
		}
		modifier = {
			add = -0.2
			has_trait = humble
		}
		modifier = {
			add = 0.2
			has_trait = gregarious
		}
		modifier = {
			add = -0.2
			has_trait = shy
		}
	}

	option = { # Buy the head
		name = niger_delta.0105.a
		trigger = {
			OR = {
				is_ai = no
				gold >= 50
			}
		}
		remove_short_term_gold = 50
		add_prestige = 100
		stress_impact = {
			humble = miniscule_stress_impact_gain
		}
	}

	option = { # Buy the head
		name = niger_delta.0105.b
		stress_impact = {
			arrogant = miniscule_stress_impact_gain
		}
	}
}



# Ancient bronze head is discovered - what to do with it?
niger_delta.0106 = {
	type = character_event
	title = niger_delta.0106.t
	desc = niger_delta.0106.desc
	theme = RICE_theme_nigeria_mountains
	
	right_portrait = {
		character = root
		animation = personality_greedy
	}
	
	
	trigger = {
		capital_province = {
			geographical_region = RICE_niger_delta_region
		}	
		culture = {
			OR = {
				has_cultural_tradition = tradition_RICE_kinship_based_craft_guilds
				has_cultural_tradition = tradition_RICE_ritual_hegemony
			}
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = patient
		}
		modifier = {
			add = -0.2
			has_trait = impatient
		}
		modifier = {
			add = 0.2
			has_trait = humble
		}
		modifier = {
			add = -0.2
			has_trait = arrogant
		}
		modifier = {
			add = 0.2
			has_trait = zealous
		}
		modifier = {
			add = -0.2
			has_trait = cynical
		}
	}

	option = { # Bury the head
		name = niger_delta.0106.a
		add_piety = 50
		stress_impact = {
			arrogant = miniscule_stress_impact_gain
		}
	}

	option = { # Bring it to ancestral shrine
		name = niger_delta.0106.b
		dynasty = { add_dynasty_prestige = 15 }
		stress_impact = {
			lazy = miniscule_stress_impact_gain
		}
	}
}



# Glassmakers doing well
niger_delta.0107 = {
	type = character_event
	title = niger_delta.0107.t
	desc = niger_delta.0107.desc
	theme = RICE_theme_yoruba_shrine
	override_icon = { reference = "gfx/interface/icons/event_types/type_stewardship.dds" }
	
	right_portrait = {
		character = root
		animation = personality_content
	}
	
	
	trigger = {
		has_title = title:c_ife
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = diligent
		}
		modifier = {
			add = -0.2
			has_trait = lazy
		}
		modifier = {
			add = 0.2
			has_trait = just
		}
		modifier = {
			add = -0.2
			has_trait = arbitrary
		}
		modifier = {
			add = 0.2
			has_trait = ambitious
		}
		modifier = {
			add = -0.2
			has_trait = content
		}
	}

	option = { # OK
		name = niger_delta.0107.a
		title:c_ife = {
			add_county_modifier = {
				modifier = RICE_niger_delta_glassmaking_industry_good
				years = 10
			}
		}
	}
}


# Envoys return from trip to Ife
niger_delta.0108 = {
	type = character_event
	title = niger_delta.0108.t
	desc = niger_delta.0108.desc
	theme = diplomacy_foreign_affairs_focus
	
	right_portrait = {
		character = root
		animation = personality_content
	}
	
	
	trigger = {
		NOT = { has_title = title:c_ife }
		religion = { rice_religion_trigger_west_african_orisha_religion = yes }
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = diligent
		}
		modifier = {
			add = -0.2
			has_trait = lazy
		}
		modifier = {
			add = 0.2
			has_trait = zealous
		}
		modifier = {
			add = -0.2
			has_trait = cynical
		}
		modifier = {
			add = 0.2
			has_trait = ambitious
		}
		modifier = {
			add = -0.2
			has_trait = content
		}
	}

	option = { # OK
		name = niger_delta.0108.a
		add_piety = 50
		add_prestige = 50
	}
}


# Chew more kola nuts or not?
niger_delta.0109 = {
	type = character_event
	title = niger_delta.0109.t
	desc = niger_delta.0109.desc
	theme = stewardship_duty_focus
	
	right_portrait = {
		character = root
		animation = personality_rational
	}
	
	
	trigger = {
		OR = {
			culture_has_west_african_heritage_pillar_trigger = yes
			culture_has_central_african_heritage_pillar_trigger = yes
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = diligent
		}
		modifier = {
			add = -0.2
			has_trait = lazy
		}
		modifier = {
			add = 0.2
			has_trait = temperate
		}
		modifier = {
			add = -0.2
			has_trait = arrogant
		}
		modifier = {
			add = 0.2
			has_trait = gregarious
		}
		modifier = {
			add = -0.2
			has_trait = shy
		}
	}

	option = { # OK
		name = niger_delta.0109.a
		trigger = {
			OR = {
				gold >= 30
				is_ai = no
			}
		}
		remove_short_term_gold = 39
		add_character_modifier = {
			modifier = RICE_niger_delta_regularly_chews_kola_nuts
			years = 10
		}
		stress_impact = {
			lazy = miniscule_stress_impact_gain
		}
	}

	option = { # OK
		name = niger_delta.0109.b
		stress_impact = {
			diligent = miniscule_stress_impact_gain
		}
	}
}





# Breaking in the kola nut every morning
niger_delta.0110 = {
	type = character_event
	title = niger_delta.0110.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					culture = {
						has_cultural_tradition = tradition_RICE_igwebuike
					}
				}
				desc = niger_delta.0110.desc.culture
			}
			triggered_desc = {
				trigger = {
					religion = { rice_religion_trigger_odinala_religion = yes }
				}
				desc = niger_delta.0110.desc.faith
			}
		}
	}
	theme = diplomacy_family_focus
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	
	
	trigger = {
		OR = {
			culture = {
				has_cultural_tradition = tradition_RICE_igwebuike
			}
			religion = { rice_religion_trigger_odinala_religion = yes }
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = diligent
		}
		modifier = {
			add = -0.2
			has_trait = lazy
		}
		modifier = {
			add = 0.2
			has_trait = zealous
		}
		modifier = {
			add = -0.2
			has_trait = cynical
		}
		modifier = {
			add = 0.2
			has_trait = patient
		}
		modifier = {
			add = -0.2
			has_trait = impatient
		}
	}

	option = { # OK
		name = niger_delta.0110.a
		add_piety = 20
		stress_impact = {
			lazy = miniscule_stress_impact_gain
		}
	}

	option = { # OK
		name = niger_delta.0110.b
		trigger = {
			has_trait = lazy
		}
		trait = lazy
		add_piety = -40
		stress_impact = {
			lazy = minor_stress_impact_loss
		}
	}
}



# Welcome a prominent visitor with a kola nut
niger_delta.0111 = {
	type = character_event
	title = niger_delta.0111.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					culture = {
						has_cultural_tradition = tradition_RICE_igwebuike
					}
				}
				desc = niger_delta.0111.desc.culture
			}
			triggered_desc = {
				trigger = {
					religion = { rice_religion_trigger_odinala_religion = yes }
				}
				desc = niger_delta.0111.desc.faith
			}
		}
		desc = niger_delta.0111.desc.conclusion
	}
	theme = diplomacy_foreign_affairs_focus
	
	right_portrait = {
		character = root
		animation = personality_honorable
	}
	
	
	trigger = {
		OR = {
			culture = {
				has_cultural_tradition = tradition_RICE_igwebuike
			}
			religion = { rice_religion_trigger_odinala_religion = yes }
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = diligent
		}
		modifier = {
			add = -0.2
			has_trait = lazy
		}
		modifier = {
			add = 0.2
			has_trait = gregarious
		}
		modifier = {
			add = -0.2
			has_trait = shy
		}
		modifier = {
			add = 0.2
			has_trait = compassionate
		}
		modifier = {
			add = -0.2
			has_trait = callous
		}
	}

	option = { # OK
		name = niger_delta.0111.a
		add_prestige = 25
		add_piety = 25
	}
}





# Judgment using a kola nut
niger_delta.0112 = {
	type = character_event
	title = niger_delta.0112.t
	desc = niger_delta.0112.desc
	theme = corruption
	
	right_portrait = {
		character = root
		animation = personality_rational
	}
	
	
	trigger = {
		religion = { rice_religion_trigger_odinala_religion = yes }
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = diligent
		}
		modifier = {
			add = -0.2
			has_trait = lazy
		}
		modifier = {
			add = 0.2
			has_trait = humble
		}
		modifier = {
			add = -0.2
			has_trait = arrogant
		}
		modifier = {
			add = 0.2
			has_trait = content
		}
		modifier = {
			add = -0.2
			has_trait = ambitious
		}
	}

	option = { # OK
		name = niger_delta.0112.a
		add_piety = 20
		stress_impact = {
			cynical = miniscule_stress_impact_gain
		}
	}

	option = { # OK
		name = niger_delta.0112.b
		add_prestige = 20
		stress_impact = {
			zealous = miniscule_stress_impact_gain
		}
	}
}







